●  Apropos:
- Visit next Web site for a great experience:
  https://earizon.github.io/txt_world_domination/viewer.html?payload=../WebTechnologies/notes.txt

- If you want to contribute to great gistory of this
  document you can take the next flight to:
@[https://www.github.com/earizon/WebTechnologies]
  Your commits and pull-request will be immortalized
  in the Pantheon of the Unicode Gods.
────────────────────────────────────────────────────────────────────────────────


● External Links
- The size of the World Wide Web (The Internet)
@[https://www.worldwidewebsize.com/]
- HTML Spec:
@[https://html.spec.whatwg.org/]
- how well does your browser support HTML5?
@[http://html5test.com/]
- webplatform. Your Web, Documented.
-@[https://webplatform.github.io/]
  The latest information on how to use the technology
  that runs the web — HTML, CSS, JavaScript and more.  WebPlatform.org is a
  work in progress. We could use your help in making it better. Join us.
- Great blog about CSS design and  HTML5
@[http://www.smashingmagazine.com/]


[[{$div]]
● AAA
[[{security.aaa,02_doc_has.resource]]
● External Links
• @[/Architecture/architecture_map.html?topics=oauth]
• @[/Architecture/architecture_map.html?topics=aaa]
[[}]]

[[{security.aaa,use_case.identity,01_PM.TODO]]
● Web Authentication API
• This API enables users to avoid text-based passwords for websites
  and instead uses a local device with a biometric check or private PIN
  to generate a secure cryptographic identifier.
• Firefox adopted in in 2018
@[https://www.infoq.com/news/2018/05/firefox-web-authentication-api]
[[}]]

● did-jwt [[{security.aaa,use_case.identity.ssi,security.oauth,standards.security.jwt,01_PM.BACKLOG]]
more info about JWT @[../General/cryptography_map.html?query=jwt&showSearchMenu=false]
@[https://github.com/decentralized-identity/did-jwt]

• The did-JWT library allows you to sign and verify JSON Web Tokens
  (JWT) using ES256K, ES256K-R and Ed25519 algorithms.

• Public keys are resolved using the Decentralized ID (DID) of the
  signing identity of the claim, which is passed as the iss attribute
  of the encoded JWT.

• Supported methods: ethr | uport | https | nacl | muport
[[}]]

● W3C Credentials API [[{security.aaa,use_case.identity,api_management,security,standards]]
@[https://w3c-ccg.github.io/credential-handler-api/]
• Credential Management Level 1 describes an imperative API enabling
  a website to request a user's credentials from a user agent, and to
  help the user agent correctly store user credentials for future use.
• User agents implementing that API prompt the user to select a way to
  handle a credential request, after which the user agent returns a
  credential to the originating site. This specification defines
  capabilities that enable third-party Web applications to handle
  credential requests and storage.
[[}]]

[[$div}]]

[[{$div]]
● Data Visualization
[[{use_case.data_visualization.real_time,]]
● SVG Summary #[svg_summary]
<svg xmlns="http://www.w3.org/2000/svg" ← xmlns not necesary inside html
   viewBox="0 0 256 256"                 ← left_x up_y width height
   preserveAspectRatio="xMidYMid"        ← Optional uniform scaling:
                                           xMidYMid aligning to the middle.
                                           xMinYMin aligning to the top-left.
                                           xMaxYMax aligning to the bottom-right.
                                           (think of viewBox having 9 different
                                            anchor points)
   transform="scale(1,-1)" >             ← Make y coordinate work bottom-to-top.

┌ <g stroke="orange" class="..."         ← group: Apply default attribute to children
│    fill="orange"                       ← fill: shape color (name|#hex|rgb()|rgba())
│    opacity=".5"  >
│  <circle cx="100" cy="100" r="100" />
│  <ellipse cx="100" cy="100" id=".."    ← id can also be used as in html
│           rx="100" ry="50" />
│  <rect x="0"      y="0"
│        width="10" height="4"
│        rx="5" ry="5"                   ← Optional. rx/ry: Radio x/y
│        stroke="orange"                 ← Adds line around outside-shape/along-path.
│        stroke-width="10"
│        stroke-opacity=".5"
│        stroke-linecap="round"          ← control stroke-end shape: butt, round, square.
│        stroke-linejoin="bevel"         ← control corner-style: miter, round, bevel.
│        stroke-miterlimit="4"           ← control two-different-stroke
│                                          corners "meeting" at a point
│   />                                     (avoid pointy triangle)
│
│  <polygon points="0,0 10,0 0,10" />    ← Polygon (triagle in this case)
│  <line x1="0" y1="0" x2="3" y2="5"     ← x1/y1: start, x2/y2: end
│        stroke-dasharray="4,6"  />      ← create dashed lines for strokes
│                                          4,6: "4-pixel-dash then 6-pixel-space"
│  <polyline points="0,0 1,2 2,1 3,3"/>  ← multipoint x1/y1 x2/y2 x3/y3 ... line.
│  <path d="M1,1 Q2,2 3,1" />            ← multiple anchors with handles.
└ </g>                                      Generally written by a program (vs by hand)

  <text x="10" y="10"                    ← x,y: anchor point
        text-anchor="middle"             ← alignment: start  | middle  | end
        textLength="900"                 ← Space out letters to fill width.
    Lorem Ipsum...
    <tspan fill="limegreen"              ← tspan used to surround words inside <text>
           dx="5" dy="-3">
       ... some text ...
     </tspan>
   </text>

   <a xlink:href="https://...">          ← Add hyperlink
     <text>Dinosaurs!</text>
   </a>
   <image xlink:href="..." />

   <symbol id="icon01" viewBox="...">    ← defining Reusable symbol
     <rect .../>
   </symbol>
   <use xlink:href="#icon01" />          ← Using it later on.

 ┌ <defs>                                ← section to create shapes that won't be
 │                                         visible until used in other places like
 │                                         gradients, paths for text, masks, etc.
 │
 │   <linearGradient  id="grad01" >      ← GRADIENTS
 │     <stop offset="0%"   stop-color="  .." />
 │     <stop offset="100%" stop-color="  .." />
 │   </linearGradient>
 │   <mask  id="mask01"  >                  MASKING
 │     <image width=... height=...        ← Mask Image SHOULD be black-and-white
 │       xlink:href="..." />                (black:transparent, white: show)
 │   </mask>
 │
 │   <pattern  id="texture01"               TEXTURING ⅋ PATTERNS
 │      width=... height=...
 │      patternUnits="userSpaceOnUse">
 │    <image xlink:href="..." ... />
 │   </pattern>
 │   <filter id="blur01">                   FILTER
 │     <feGaussianBlur
 │          in="SourceGraphic"
 │          stdDeviation="5" />
 │   </filter>
 └ </defs>

   <rect fill="url(#texture01)" ...       ← Apply texture to shape / text
                                            Alt. fill="url(#grad01)" (Apply gradient)
         filter="url(#blur01)"            ← Apply filter  to shape / text
         mask="url(#mask01) />            ← Apply mask    to shape / text
</svg>
[[}]]

[[{data_management.data_visualization,use_case.data_visualization.real_time,stack.react,01_PM.BACKLOG]]
● Perspective #[perspective_summary]
@[https://github.com/jpmorganchase/perspective]
@[https://perspective.finos.org/]
• interactive visualization for large, real-time datasets
  and customizable analytics.
• JS engine, runs on any modern browser.
• Integrates with Python and JupyterLab .
• fast, memory efficient streaming query engine,
  written in C++ and compiled for both WebAssembly and Python,
  with read/write/stream/virtual support for Apache Arrow.
[[}]]

[[{use_case.data_visualization.real_time,data_management.data_visualization,02_doc_has.comparative,]]
● D3.js
• External resouces:
@[https://d3js.org/]
@[https://github.com/d3/d3]
@[https://www.youtube.com/watch?v=_8V5o2UHG0E&t=894s]
• White-paper summary:
 @[http://idl.cs.washington.edu/files/2011-D3-InfoVis.pdf]
  · ...based on CSS these libraries (jQuery) share the concept
    of a selection:
    identify a set ofe lements using simple predicates, then
    apply a series of operators that mutate the selected elements.
  · For data visualization, document transformers must handle the
    cre-ation and deletion of elements, not just the styling of existing
    nodes.This is impossible with CSS, and tedious with jQuery.
  · D3 alternatives, like Processing and Raphaël are tedious for     [comparative]
    complex tasks (no convenient abstractions).
  • selection  : D3's atomic operand:  filter over document's elements.
  • Operators  : Act on selections, modifying content.
  • Data joins : bind input data to elements, enabling functional
                operators that depend on data, and producing
                enter and exit subselections for the creation and
                destruction of elements in correspondence with data.
  • event      : Special operators responding to user input and
    handlers     enable interaction.
  • helper     : simplify common tasks:
    modules      ✓ data-processing utilities such as next/cross operators,
                   CSV parser, date/number formating, ...
                 ✓ layouts:
                 ✓ ...


  const x = (d, i) => { return i*25 },  ← scale fun. for position encoding
        y = (d, i) => { return 10 -d }

  const svg = d3
        .select("body")                 ← Add SVG container to body
        .append("svg:svg")
        .data([ [1, 2, 3, 2, 1, 0.5] ]) ← bind data (array of arbitrary values)
                                            Data is then passed to functional operators
                                            as first argument by convention along with
                                            numeric index (i). By default Nth element
                                            is binded to Nth data (ordered by index).
                                              "key" function can override the def.behaviour.
                                            *
                                           data can also be used to reorder( sort )and/or
                                           cull ( filter ) DOM elements.

  svg.append("svg:path")                ← Add path element for the area
     .attr("class", "area")
     .attr("d",
           d3.svg
             .area().x(x).y0(14).y1(y))

  svg.append("svg:path")                ← Add path element to emphasize
     .attr("class", "line")                the top line.
     .attr("d" ,
           d3.svg.line().x(x).y(y))

  const g = svg.selectAll("g")          ← Add containers for reference values.
        .data(d3.range(0,2, .5))          select || selectAll accept CSS selector
        .enter()                          syntax?.
                                          selects can be chained,
                                            ex: selectAll("p").select("b")
        .append("svg:g")                ← insert(),append() ops. add new elements to   DOM
                                          remove            ops. del.    elements from DOM
                                          transition(..)  same syntax than style/attr but
                                             interpolating from current to final value
                                             gradually over time.

  g.append("svg:line")                  ← Add reference lines.
   .attr("class", (d) => {"rule"})        ← operator acting on selection and
   .attr("x2",160)                          wrapping W3C DOM API,
   .attr("y1", y)                           := .attr(...) | .style(...) | .property(...)
   .attr("y2", y)                              .html(...) | .text(...)  |
                                               .each(...) (general extension point operator)
                                            and expressed either as constants or functions.

  g.append("svg:text")                  ← (g) Add reference labels.
   .attr("x",164)
   .attr("y",y)
   .attr("dy", ".3em")
   .text(d3.format(",.1"))

  *                     ┌─┐┌─┐┌─┐┌─┐┌─┐┌─┐┌─┐┌─┐┌─┐┌─┐  NOTE: Data is sticky: Once bound
       e  e  e  e  e  e │u││u││u││u││u││ ││ ││ ││ ││ │        to nodes, it is available
                        └─┘└─┘└─┘└─┘└─┘└─┘└─┘└─┘└─┘└─┘        in next re-selection with
       └───────┬──────┘ └──────┬──────┘└──────┬──────┘        no need for .data(...) operator
       entering data    updated data    exit nodes with
       data with no     bounded to      no matching data
       matching nodes.  matching nodes  allowed to be
       insert will bind                 removed.
       new nodes to the
       data.


• used as "kernel" library for other high level ones
  e.g.: @[#vega_lite_summary]

• Extracted from @[https://observablehq.com/@d3/learn-d3]
 • D3 stands for "Data Driven Documents".
 • D3 allows to bind arbitrary data to a Document Object Model (DOM),
   and then apply data-driven transformations to the document.
   e.g:
    INPUT        BIND TO
    ========     =======
    number[] --→ D3.js ─┬→ Interactive SVG chart
                        ├→ HTML table
                        ├·····→

  •  Step learning path : 30+ modules , 1000s of methods.
[[}]]

[[{use_case.data_visualization.real_time,data_management.data_visualization,01_PM.TODO]]
● Vega Lite!!! @ma #[vega_lite_summary]
@[https://vega.github.io/vega-lite/]
@[https://vega.github.io/vega-lite/examples/]
• HIGH-LEVEL GRAMMAR OF INTERACTIVE GRAPHICS with declarative JSON syntax.
  by University of Washington Interactive Data Lab
• visualizations for data analysis and presentation.
• Used by:
  Tableau , Google, Microsoft, Airbnb, Los Angeles Times, CERN,
  Carnegie Mellon University, Berkeley University, ...
• Extracted from: https://vega.github.io/vega/about/vega-and-d3/
  ... D3 is intentionally a lower-level library (than Vega) ...
  a "visualization kernel" rather than a "toolkit" or "framework"
  ... intended as a supporting layer for higher-level visualization
  tools. Vega is one such tool, and Vega uses D3 heavily within its
  implementation: vega lite → vega → d3.js

• HOWTO: STEP 1) HTML SETUP
@[https://vega.github.io/vega-lite/tutorials/getting_started.html]
 ┌──────────────────────────────────────────────────────────────────────────┐
 │ <!DOCTYPE html>                                                          │
 │ <html>                                                                   │
 │ <head>                                                                   │
 │   ...                                                                    │
 │   <script src="https://cdn.jsdelivr.net/npm/vega@5.20.2"      ></script> │
 │   <script src="https://cdn.jsdelivr.net/npm/vega-lite@5.1.0"  ></script> │
 │   <script src="https://cdn.jsdelivr.net/npm/vega-embed@6.17.0"></script> │
 │                                                                          │
 │   <style media="screen">                                                 │
 │     .vega-actions a {       /* Add space between Vega-Embed links */     │
 │       margin-right: 5px;                                                 │
 │     }                                                                    │
 │   </style>                                                               │
 │ </head>                                                                  │
 │ <body>                                                                   │
 │   ...                                                                    │
 │   <div id="vis" ></div>     <!-- visualization container -->             │
 │                                                                          │
 │   <script>                                                               │
 │     var vlSpec = {                                                       │
 │       $schema: 'https://vega.github.io/schema/vega-lite/v5.json',        │
 │       data     : { values: [ ... ] },                                    │
 │       mark     : 'bar',                                                  │
 │       encoding : { ... }                                                 │
 │     }                                                                    │
 │                                                                          │
 │     vegaEmbed( '#vis' , vlSpec); // Embed visualization in "div"         │
 │   </script>                                                              │
 │ </body>                                                                  │
 │ </html>                                                                  │
 └──────────────────────────────────────────────────────────────────────────┘

• HOWTO: STEP 2) DATA and Visualization SETUP
@[https://vega.github.io/vega-lite/tutorials/getting_started.html]
  TABULAR DATA SET │ EQUIVALENT VEGA-LITE
                   │ JSON ARRAY + RENDER PROP
  ================ │ ========================
 var. a    var. b  │ {
  cate- vs nume-   │   "data" : {          ← "data" prop defines data source for chart
gorical    rical   │     "values" : [         Other data sources type supported
      C ←→ 2  · · ·│· · · {"a": "C", "b": 2}, ┐  e.g: "data": {"url": ".../data/myData.csv"}
      C ←→ 7  · · ·│· · · {"a": "C", "b": 7}, ┤  ← each value (row) will be rendered
      C ←→ 4  · · ·│· · · {"a": "C", "b": 4}, ┤    as a1visual mark
      D ←→ 1  · · ·│· · · {"a": "D", "b": 1}, ┤
      ...
      E ←→ 7  · · ·│· · · {"a": "E", "b": 7}  ┘
                   │           ]
                   │   },
      vega-lite  ┌ →   "mark": "point",    ← mark key indicates how to render data
          chart  │ │                         mark properties := position, size, color
  visualization ─┤ │                         vega-lite will render one point per "data" object
     properties  │ │
                 └ →   "encoding": {       ← Without encoding output marks will overlap.
                   │      "x": {               ← encode "x-channel" to ("row") data fields.
     vega-lite     │        "field": "a",        ("a" in this case)
     chart         │        "type" : "nominal"   := "quantitative" | "temporal" | "ordinal" | "nominal"  *
  visualization    │      },
                   │      "y": {           ← "x" alone will already render "a" distribution.
                   │        "field": "b",    "y" to compare "var a" vs "var b"
                   │        "type" : "quantitative"
                   │        "title": "b's average"   ← optional.
                   │        "aggregate": "average"   ← optional := "aggregate" | "average"
                   │      }                                           ^
                   │   }                                          "mark" : "bar"
                   │ }
                     *  @[https://vega.github.io/vega-lite/docs/encoding.html#type]
                    TIP: Vega-Lite will auto. add axis-with-labels for different-categories + axis title.

• EXPLORING DATA EXAMPLES
@[https://vega.github.io/vega-lite/tutorials/explore.html]

  QUANTITATIVE CONTINUOUS            SAME QUANTITATIVE VAR DISCRETIZED
  VAR DISTRIBUTION ALONG X AXIS      AS BAR HISTOGRAM ALONG X/Y AXES
  =============================      ===============================

  {                                  {
    "data": ...                        "data": ...
    "mark": "tick",                    "mark": "bar",
    "encoding": {                      "encoding": {
      "x": {                             "x": {
         "field": "precipitation",         "field": "precipitation"
         "type" : "quantitative"           "bin"  : true,  ← bin == discretize cont.var.
      }                                  },                 (bin quantitative by default)
                                         "y": {
                                           "aggregate": "count"
                                         }
    }                                  }
  }                                  }

  MEAN PRECIPITATION VS (month) DATE
  ==================================
  {
    "data": ...
    "mark": "line",
    "encoding": {
      "x": {
        "field"    : "date"
        "timeUnit" : "month",  ← : yearmonth will compare same month
      },                           in different years
      "y": {
        "field"    : "precipitation"
        "aggregate": "mean",
      }
    }
  }

  WEATHER TYPE OVER MONTH STACKED (aggregate) BAR
  ==============================================
  {
    "data": ...
    "mark": "bar" ,
    "encoding": {
      "x": {
        "timeUnit"  : "month",
        "field"     : "date",
        "type"      : "ordinal"
      },
      "y": {
        "aggregate": "count",   ←···· we need to add "color" prop.
        "type"     : "quantitative"   to indicate stack visualization
      },                                ·
      "color": {                        ·
        "field": "weather",     ←······─┘
        "type": "nominal",
        "scale": {   ← Optional. Customize default category colors
          "domain": ["sun", "fog" , "drizzle", "rain", "snow"],
          "range":  ["#ea2","#c77", "#aec7e8", "#1b4", "#946"]
        }
      }
    }
  }


• CALCULATED FIELD HOW-TO
  =======================
  {
    "data": ...
    "transform": [
      {
        "calculate" : "datum.temp_max - datum.temp_min",
        "as"        : "temp_range"
      }
    ],
    "mark": ...
    "encoding": {
      ...
      "y": {
        "field": "temp_range"
        ...
      }
    }
  }
[[}]]

[[{stack.react,use_case.data_visualization,data_management.data_visualization,01_PM.BACKLOG]]
● Visx
• @[https://www.infoq.com/news/2020/12/airbnb-visx-data-visualization/]
  Airbnb Releases Visx, a Set of Low-Level Primitives for Interactive
  Visualizations with React components that can be composed into interactive
  visualizations.
• Builds on D3 primitives, React component model, DOM handling.
• data visualization solution   easy to learn without sacrificing
  expressiveness.
  " ...  After 3 years of development, 2.5 years of production use
    at Airbnb, and a rewrite in TypeScript we are excited to announce
    the official 1.0 release of visx (formerly vx). ..."
[[}]]

[[{use_case.data_visualization,data_management.data_visualization,]]
● JointJS #[jointjs_summary]
@[http://www.jointjs.com/tutorial]
@[http://www.jointjs.com/demos/umlcd]
• JointJS

  INPUT                        PROCESSING              OUTPUT
  =====                        ==========              ======
  GRAPH MODEL:          ···→   attach graph to   ···→   rendered view
  · N joint.dia.Element's      joint.dia.Paper
      (or descendants)
  · M joint.dia.Link's
      ^^^^^^^^^^^^^^^^
      cell := Element or Link

- Joint.JS  "Hello World!:
  <script src="joint.js"></script>
  <script>
    const graph01 = new joint.dia.Graph()    ← Represent a diagram.

    const paper      = new joint.dia.Paper({
        el: $('#myholder'),                  ← paper container
        width: 600, height: 200, gridSize: 1 ← CSS data
        model: graph01,                      ← attached graph
    })
    paper.scale(.5);
    paper.$el.css('pointer-events', 'none');

    graph01.on('all',                        ← .on(...) D3 operator reacting to input events
                                               On D3, callback receives data and index as
                                               1st arg.  TODO:Q: Is the same for vega-lite?
      function(eventName, cell)              ← Event handling based on the Backbone MVC
      { ... })                                 See all events triggered by any model in the
                                               graph.



    const rect01 =                           ← Basic shapes in JointJS:
      new joint.shapes.basic.Rect({            ✓ joint.shapes.basic.Rect
        position: { x: 100, y: 30 })           ✓ joint.shapes.basic.Circle
                                               ✓ joint.shapes.basic.Text
                                               ✓ joint.shapes.basic.Image

    rect01.attr({                            ← Shape styling
      rect: { rx: 5, ry: 5,
              fill      : '#2C3E50',
              'stroke-width': 2,
              stroke    : 'black' },
      text: { text      : 'my label',
              fill      : ...,
              'font-size': 18, ... }
    })

    rect01.on('change:position',             ← bind event to shape
      (element) => {
        ... element.id
        ... element.get('position')
      })

    link.set('vertices',                     ← Set vertices on a link
      [ { x: 300, y: 60 },
        { x: 400, y: 60 },
        { x: 400, y: 20 }
      ])
  link.set('smooth', true)                   ← Avoid sharp break at vertice
                                               (Use interpolated curve)
[[}]]

[[{use_case.data_visualization,data_management.data_visualization,01_PM.TODO]]
● JS Pivot Tables
See also Vega-Lite pivot charts @[#vega_lite_summary]
@[https://github.com/search?q=pivot+table]
@[https://pivottable.js.org/examples/]
@[https://github.com/nicolaskruchten/pivottable]
@[https://www.flexmonster.com/demos/pivot-table-js/]
[[}]]

[[{performance.data_visualization,use_case.data_visualization.real_time,data_management.data_visualization,01_PM.BACKLOG]]
● Complex Model Real Time Render
@[https://www.infoq.com/presentations/autodesk-forge-viewer/]
Shwetha Nagaraja & Federico Rocha explore in detail some of the most
interesting heavily-optimized techniques and strategies that Autodesk
Forge Viewer introduces for viewing extremely large 2D and 3D models
in the browser in real-time. These include progressive rendering to
reduce time to first pixel, geometry consolidation to reduce draw
overhead.
[[}]]

[[$div}]]

[[{$div]]
[[{multimedia,01_PM.BACKLOG]]
● Multimedia
- http://www.w3.org/2010/05/video/mediaevents.html

- http://stackoverflow.com/questions/14317179/display-a-video-from-a-blob-javascript
  var reader = new FileReader();
  reader.readAsDataURL(vid);

  function display(vid){
      var video = document.getElementById("video");
      video.src = window.URL.createObjectURL(vid);

  }

- http://html5doctor.com/video-canvas-magic/
  http://html5doctor.com/demos/video-canvas-magic/demo2.html
  https://developer.mozilla.org/en-US/docs/Web/HTML/Manipulating_video_using_canvas

- Video &amp; MediaSource:
  https://dvcs.w3.org/hg/html-media/raw-file/tip/media-source/media-source.html
 During playback, the media element pulls segment data out of the source
buffers, demultiplexes it if necessary, and enqueues it into track buffers so
it will get decoded and displayed. buffered describes the time ranges that
are covered by media segments in the source buffer.
  Once a new SourceBuffer has been created, it expects an initialization
segment to be appended first. This first segment indicates the number and
type of streams contained in the media segments that follow. This allows the
media element to configure the necessary decoders and output devices

  A MediaSource object can be attached to a media element by assigning a
MediaSource object URL to the media element src  attribute or the src
attribute of a <source> inside a media  element. MediaSource object URLs are
created by passing a MediaSource  object to window.URL.createObjectURL().
Initialization segments are an optimization. They allow a byte stream format
to avoid duplication of information in Media Segments that is the same for
many Media Segments. Byte stream format specifications need not specify
Initialization Segment formats, however. They may instead  require that such
information is duplicated in every Media Segment.


   | http://updates.html5rocks.com/2011/11/Stream-video-using-the-MediaSource-API
   |*//SUMMARY:
   | video.src = video.webkitMediaSourceURL;
   | ...
   | video.webkitSourceAppend(new Uint8Array(...));
   | if (endOfStreamDetected) {
   |     video.webkitSourceEndOfStream(HTMLMediaElement.EOS_NO_ERROR);
   | }
   |
   |*//FULL CODE:*
   | const chunkSize = Math.ceil(file.size / 5 /*number of Chunks */); // file is a video file
   | var video = document.querySelector('video');
   |     video.src = video.webkitMediaSourceURL;
   |     video.addEventListener('webkitsourceopen', function(e) {
   |         for (var i = 0; i < NUM_CHUNKS; ++i) {
   |             var startByte = chunkSize * i;
   |             var chunk = file.slice(startByte, startByte + chunkSize); // get slice
   |             var reader = new FileReader();
   |             reader.onload = (function(idx) {
   |                 return function(e) {
   |                     video.webkitSourceAppend(new Uint8Array(e.target.result)); // appending chunk:
   |                     if (idx == NUM_CHUNKS - 1) {
   |                       video.webkitSourceEndOfStream(HTMLMediaElement.EOS_NO_ERROR);
   |                     // appending chunk:
   |                     }
   |                 };
   |             })(i);
   |             reader.readAsArrayBuffer(chunk);
   |         }
   |     }, false);
   |
   | splits video into chunks, then "stream" to a <video> tag by
   | appending each chunk to the element using the MediaSource API.
   |
   | If you're interested in learning more about the API, see the specification.
   |
   | Support: Currently, the MediaSource API is only available in Chrome Dev Channel 17+ with the
   |  --enable-media-source flag set or enabled via about:flags.
   |
   | CONST chunkSize = Math.ceil(file.size / 5 /*number of Chunks */); // file is a video file


● Web-Audio Components [TODO]
@[https://github.com/web-audio-components]

• External Resources:
· JS Oscillator:
@[https://tonejs.github.io/examples/oscillator]
[[}]]

[[{multimedia.webrtc,01_PM.TODO]]
● WebRTC: Peer-to-peer media streaming
@[http://www.html5rocks.com/en/tutorials/getusermedia/intro/]
@[http://gingertech.net/2014/01/08/use-deck-js-as-a-remote-presentation-tool/]
[[}]]

[[{multimedia,01_PM.BACKLOG]]
● Kurento Media Server (KMS)
@[https://doc-kurento.readthedocs.io/en/latest/]
• multimedia server  to develop advanced video applications
  for WebRTC platforms.
• FaceOverlayFilter is a simple Computer Vision example that
  detects people's faces on the video streams, to add an overlay
  image on top of them.
[[}]]

[[{multimedia.video.hls,multimedia.video.dash,01_PM.BACKLOG]]
● shaka-player
@[https://github.com/google/shaka-player]
• JS media player library with support for adaptative video streams
  (video resolution and bandwith adapted on "real-time" to the available
  network and client/resources) supporting DASH and HLS protocols.
  and MSE-EME player.
• 5.5K stars on Github
[[}]]



[[$div}]]





────────────────────────────────────────────────────────────────────────────────
[[{$div angular ]]
    ● ANGULAR @[https://angular.io/docs] [Official Doc]
[[{$div]]
[[{stack.angular,02_doc_has.resource]]
● Ext.Links
- Angular API:
@[https://angular.io/api?type=package]
- Github Repo:
@[https://github.com/angular/angular]
────────────────────────────────────────────────────────────────────────────────
● What's new
•  Angular 11
  @[https://www.infoq.com/news/2020/11/angular-11/]
  @[https://blog.angular.io/version-11-of-angular-now-available-74721b7952f7]
  - Hot Module Replacement implementation:
  $ $ ng serve --hmr   ← It can be initialized with --hmr flag.
                         NG app will not need full page refresh on code changes:
                         Instead, latest changes to code/style/templates will be
                         updated directly while preserving the current state of
                         the application.

  - Build process speed boost by upgrading to TypeScript 4.0
    and through improving the ngcc update process.

  - developers can now opt-in to the experimental Webpack 5 support
    (faster builds with persistent disk caching and smaller bundle sizes
     using improved tree-shaking).  To enable it:
     "resolutions": { "webpack": "5.4.0" }  ← Add to package.json

  - NG language service (popular add-on offers autocomplete, type checking, etc...)
    is being transitioned to the new Ivy engine, offering improved support for
    generic types.

  - For simple upgrade of projects:
  $ $ ng update @angular/cli @angular/core
    WARN : for more complex updates, use the interactive update guide
           provided by the Angular team.

•  Angular 9
@[https://www.infoq.com/news/2020/02/angular-9-ivy-rendering-engine/]
  • Ivy Compiler:
    Smaller bundle sizes, improved build times, and better debugging
    thanks to the release of the much anticipated Ivy rendering engine
    that has been in development by Google since 2018.
      Ivy uses tree shaking, allowing it to include only the parts of
    Angular needed for the current application.

•  Angular 5
 Service worker implementation shipping by default.
[[}]]

[[{stack.angular.101]]
● Architecture #[angular_summary]
@[https://angular.io/guide/architecture]
  VIEW : "screen element" on browser, mobile, ...

  COMPOMENT : $  $ ng generate component "compName"
  • Typescript Class with ng-decorator.

  • Defines N views, arranged hierarchically.
    The (optional)  Router service  defines navigation paths
    among them.

  • At least one  root component  is needed by App, connecting a
    component hierarchy with the page document object model (DOM).

  •  Service  (providers) are injected (@Injectable() decorator) to provide
    needed non-visual functionality.

  • When a component is instantiated, it's associated directly with
    the (root) host view.

                           DATA
   TEMPLATE  == HTML +    BINDING     + DIRECTIVES
                          MARKUP      @[https://angular.io/guide/built-in-directives]
                          └─┬──┘        └───┬────┘
               ┌────────────┘               └ There can be:
   FRONTEND    │                     ANGULAR  ├─ Component directives (the most common)
    DOM        │                    COMPONENT │
    └┬┘ ┌──────┴─────────────────┐  └───┬───┘ ├─ Attribute Directives:
     │                                  │     │  - [ngClass]="JS expression"
     ←················  {{value}} ···· ←┤     │  - [ngStyle]="JS expression"
     │                                  │     │  - NgModel two way data binding:
     │                                  │     │
     ←·······  [property]="value" ···· ←┤     │    PRE-SETUP: add FormsModule to @"X".module.ts
     │                                  │     │    imports:[...,FormsModule]
     │                                  │     │
     ├─··→·  (click)="handler" ·········→     │    <input [(ngModel)]="model.field01" id="field01">
     │                                  │     │
     │                                  │     │
     ←····  [(ng-model)]=comp.varName ··→     └─ Structural directives: add/remove elements
     │                                  │
           -----------------------               NgIf, NgFor, NgSwitch:
      Two way binding (forms mainly). Ex:      <app-item *ngIf="isActive" [item]="item">...
      <input [(ngModel)]="hero.name">
                                               <div *ngFor="let I of items">{{I.name}}</div>
 ☞  All data bindings are processed once
    for each JS event cycle from app           <div [ngSwitch]="e.index">
    root component through tree children.        <comp1 *ngSwitchCase="'1'" [item]="ddbb[1]"></comp1>
                                                 ...
                                                 <comp1 *ngSwitchDefault    [item]="ddbb[0]"></comp1>
                                               </div>

  e.g.: <input type="text" [(ngModel)]="inputIdentity" (change)="userInputFromUICallback()">

    TEMPLATE    : template → evaluate   → resolve  → modify
    EVALUATION    input      directives   binding    HTML DOM
                                          syntax


    TEMPLATE PIPES  (data transformation)
    • Ex: date data → pipe → locale-date
    • Predefined Pipes (@[https://angular.io/api?type=pipe]):
      Async , Currency , Date , Decimal, I18n(Plural|Select), JSON,
      KeyValue, (Lower|Upper)Case , Percent , Slice , TitleCase

User click → (intercepted by) → Router  → (reacts by) → showing/hiding view hierarchies.
                                                        ( lazy load    └───────┬──────┘
                                                         of related modules)   │
       ┌····································  hierarchical structure is key ···┘
       │                                      to how Angular detects/reacts
       │                                      to changes in the DOM|app data.
   ┌───┴─────┐
┌→ view root   ←→ NgModule1.rootComponent ┐ ← boostrapping module  (ex. app.module.ts)
·   └- view1   ←→ NgModule1.component1    ├ A view hierarchy can include
·   └- view2   ←→ NgModule2.rootComponent │ views from components in the
·     └- view3 ←→ NgModule2.component3    ┘ same or different NgModule
·                 └───┬───┘ └───┬───┘
·                     |     @[https://angular.io/guide/architecture-components]
·                     |     - (typescript) app logic controling a view
·                     |       through an properties+methods API.
·                     |     -
·  @[https://angular.io/guide/architecture-modules]
·  -  container|scope for a set of (component list, Service list, ...)
·  -  compilation context  for components:
·  -  orthogonal app-domain|workflow|capabilities set.
·  -  can depend on other (imported) NgModules
·
└→ Ex Module: app.module.ts:
   import {  NgModule  }      from '@angular/core';             ← JS input
   import {  BrowserModule  } from '@angular/platform-browser'; ← JS input
   @NgModule ({                         ← Decorator function.
     imports :     [   BrowserModule  ],
     providers :   [ Logger ],         ← Creators of services that this NgModule
                                         contributes to.  (providers at component
                                         level can also be specified , which is
                                         often preferred).
                                         A service declared here also ensures that it
                                         will be available as a singleton instance to
                                         any other component/service.

     declarations: [ AppComponent ],   ← components|directives|pipes declared

     exports:      [ AppComponent ],   ← (opt) Subset of declarations accesible
                                         by templates in other NgModules

     bootstrap:    [ AppComponent ]    ← (Only root module): main app view
   })
   export class AppModule { }          ← JS export (vs NgModule export)



 → Ex Component: src/app/hero-list.component.ts
   @Component ({
     selector   : 'app-hero-list',               ← associated html tag name
┌→   templateUrl: './hero-list.component.html',  ← seteable property programatically
·┌   providers:    [HeroService]                 ← required Service prov. array
·· })                                              Size must match constructor arg. size
··
·· export class HeroListComponent implements  OnInit  {
··   heroes      : Hero[]; ← data app property. Note: Many components wrap all
··   selectedHero: Hero;   ← data app property        data in a model dict to make code
··                                                    more readable.
·└   constructor   (private service:HeroService)  ← service will be injected
·    { ...}                                         Must match @Component.providers
·
·     @Input() hero : Hero;   // ← @Input() marks field as input, bounding it
·     @Input() power: string; //   to template DOM prop. Used to comunicate data
·                             //   among parent←→children components.
·                                @[https://angular.io/guide/inputs-outputs]
·     ...
·     ngOnChanges(change_map: SimpleChanges) { // @[https://angular.io/api/core/OnChanges]
·                 └───────────┬───────────┘
·     /*  lifecycle hook called when data-bound properties change.
·      *  Implemented by NgModel, FormControl*, Max/MinLenghtValidator, ...
·      *  maps each changed property to a SimpleChange
·      *  instance with (current,previous) values. */
·       for (let key in change_map) {
·         let chng = change_map[key];
·         let cur  = JSON.stringify(chng. currentValue);
·         let prev = JSON.stringify(chng.previousValue);
·         .log('PropName: ${key}: Val: ${cur}, previous ${prev}');
·       }
·     }
·
·
·    ngOnInit()  {                               ←·lifeCycle hook
·      this.  heroes  = this.service.getHeroes();  See also detailed examples at:
·    }                                       @[https://angular.io/guide/lifecycle-hooks]
·    selectHero(hero: Hero) { this.selectedHero = hero; }              │
·  } └─────────┬──────────┘                                            │
·              └─────────────────────────────────────────┐             │
·                                                        │             │
└→ Ex template: src/app/hero─list.component.html         │             │
   <h2>Hero List</h2>                                    │             │
   Pick a hero from list:                                │             │
   <ul>                                          ┌───────┴──────┐      │
     <li  *ngFor ="let hero of   heroes "  (click) ="selectHero(hero)">│
         {{hero.name | UpperCase}}                                     │
     </li>                                                             │
   </ul>                                                               │
                                                                       │
    <app-hero-detail            ← another component                    │
      *ngIf ="selectedHero"                                            │
      [hero] ="selectedHero">                                          │
    </app-hero-detail>                                                 │
    <on-changes [hero]="hero" [power]="power"></on-changes>            │
                                                                       │
           ┌───────────────────────────────────────────────────────────┘
   ┌───────┴───────────┐
   Main Life-cycle Hooks  for Component(or Directive in general):
   HOOK                                 PURPOSE AND TIMING
   ────                                 ──────────────────
   ngOnChanges(changes: SimpleChanges)  (re)sets data-bound input properties.
   ngOnInit()                           Initialize component after first display
                                        with data-bound properties and sets the
                                        directive/component's input properties.
   ngDoCheck()                          Detect and act upon changes that Angular
                                        can't or won't detect on its own.
   ngAfterContentInit()                 Respond after Angular projects external content
                                        into the component's view
   ngAfterContentChecked()              ...
   ngAfterViewInit()                    ...
   ngAfterViewChecked()                 ...
   ngOnDestroy()                        tap into Cleanup just before Angular destroy
                                        Use it to Unsubscribe Observables and detach
   Other hooks:                         event handlers to avoid memory leaks.
   - Angular sub-systems
   - 3rd party libraries may add new hooks.


└→ Ex Service: src/app/logger.service.ts
 $ $ ng generate service ...
   Service:  "Do one thing and do it right" (root/module/component)singleton .
   - Injected in components through constructors.
   @Injectable()
   export class Logger {
     log  (msg: any) { console.log  (msg); }
     error(msg: any) { console.error(msg); }
     warn (msg: any) { console.warn (msg); }
   }

   Note on Services injection procedure:
   Angular will create 1+providers for each service(or function|value).
   - The provider can be part of the service's own metadata, to make
     it available everywhere, or it can be registered with an specific
     module|component using the respective decorator
     (@Injectable(), @NgModule() or @Component())
     NOTE: If the providers is in @Injectable() decorator, Angular
          will optimize the app by removing it, if it's not used.

   - Service SCOPE:
     ┌──────────┬─────────────────────────────────┬──────────────────────────────
     │ LEVEL    │ Scope                           │ Declaration
     ├──────────┼─────────────────────────────────┼──────────────────────────────
     │ ROOT     │ single instance injected in all │ @Injectable(
     │ (app)    │ app─components (Default)        │    {providedIn: 'root'})
     │          │                                 │ (@ service01.service.ts)
     ├──────────┼─────────────────────────────────┼──────────────────────────────
     │ NgModule │ single instance injected in all │ @NgModule( ...
     │          │ module─components               │ { providers:
     │          │                                 │     [ service01, service02 ]
     │          │                                 │ })
     ├──────────┼─────────────────────────────────┼──────────────────────────────
     │ Component│ new service instance created for│ @Component({
     │          │ each new component              │   selector   : '...'
     │          │                                 │  ,templateUrl: '...component.html'
     │          │                                 │  ,providers  : [ service01 ]
     │          │                                 │ })
     └──────────┴─────────────────────────────────┴──────────────────────────────
[[}]]

[[{stack.angular.101,01_PM.WiP]]
● Responsive App
  Observables and event processing
@[https://angular.io/guide/observables]

- similar (but not identical) to the publish/subscribe
  design pattern. In the observer pattern:
  "subject" object  maintains a list o its dependents (observers)
  "subject" automatically notifies dependent observers of state
            changes.

  Component01 →  +Observable: Observable is a function that
                  function    executes only when a consumer subscribes


  Component02 → Component02 : create Component02.Observer01
  Component02 →  Observable : subscribe (Component02.Observer01)
                 function

  Observable function
  execution "loop":
     Observable  → Observer01: event (keystroke, HTTP response,
     function                         timer,  ...)

-  Setup and teardown logic is handled by the observable function .
   application code in Component02 only needs to worry about
   subscribing to consume values, and when done, unsubscribing
   It doesn't change whether the code was sync or async.

 - Unicast example:
   const   observable01  =
       new Observable(
     /*
      * This code creates a new independent execution for each
      * subscribed observer creating a relation
      *      Execution 1 ←→ 1 Subscriber
      * (vs) Execution 1 ←→ N Subscriber  ("Multicast")
      */
         (observer) {  ← function to execute at ".subscribe(...)
         const {nextCallback, errorCallback} = observer;
         let watchId = navigator.geolocation
              .watchPosition(nextCallback, errorCallback);
         return {
           unsubscribe() {       // ← ☞ Freing resources is
             navigator.geolocation.   responsability of Observable
               clearWatch(watchId);
           }
         };
       } );

    const   subscription01  = O observable01 .subscribe(
    {
      next(position) { console.log(position);       },
      error(msg)     { console.log('Error: ', msg); },
    });
    ...
    setTimeout(() => { observable01.unsubscribe(); }, 10000);

 - Multicast example:
   ☞TIP: multicasting tools simplify next code by allowing
         to convert any existing observable to "multicast".

    // Emit one value/second until end-of-array.
┌·→ function executor(observer, arr, idx) { ←┐
|     return setTimeout(() => {              |
|       observer.next(arr[idx]);             |
|       if (idx === arr.length - 1) {        |
|         observer.complete();               |
|       } else {                             |
|         executor(observer, arr, ++idx); ···┘
|       }
|     }, 1000);
|   }
|
|   /*
|    * multicastSequenceSubscriber wraps the executor
|    * keeping state of subcribers.
|    */
|   function multicastSequenceSubscriber() {
|     const seq = [1, 2, 3];
|     const   observers  = [];  // ← Keep track o subscribers
|     // Still a single timeoutId because there will only ever be one
|     // set of values being generated, multicasted to each subscriber
|     let timeoutId;
|
|     // Return the subscriber function (runs when subscribe()
|     // function is invoked)
|     return (observer) => {
|       observers .push(observer);
|       if (  observers .length === 1) {
|       //  ^^^^^^^^^^^^^^^^^^^^^^
|       // start executor at 1st subcription only
└··       timeoutId = executor({
            next(val) {
                observers .forEach(obs => obs.next(val));
            },
            complete() {
                observers .forEach(obs => obs.complete());
            }
          }, seq, 0);
        }

        return {
          unsubscribe() {
            observers.splice(observers.indexOf(observer), 1);
            if (observers.length === 0) {
              clearTimeout(timeoutId);
            }
          }
        };
      };
    }

    const mcastObservble01 = new Observable(multicastSequenceSubscriber());

    setTimeout(() => {
      multicastSequence .subscribe ({
        next (num) { console.log('1st subscribe: ' + num);  },
        complete() { console.log('1st sequence finished.'); }
      });
    },    0 /*← Subscribe "now"*/ );

    setTimeout(() => {
      multicastSequence .subscribe ({
        next (num) { console.log('2nd subscribe: ' + num); },
        complete() { console.log('2nd sequence finished.'); }
      });
    }, 1500 /*← Subscribe after 1st event */ );

    Console will show:
    (second 1) → 1st subscribe: 1
    (second 2) → 1st subscribe: 2
      "        → 2nd subscribe: 2
    (second 3) → 1st subscribe: 3
      "        → 1st sequence finished
      "        → 2nd subscribe: 3
      "        → 2nd sequence finished

- EX USING REACTIVE RX.JS:

  ┌─ Observable Service (EVENT EMITTER) ────  ┌─ Observer Component (EVENT CONSUMER) ─────
  │ import {Subject} from 'rxjs';             │ import { Component } from '@angular/core';
  │ // npm i -s rxjs@v6.5.3                   │ import { ServiceX} from ...
  │                                           │
  │ @Injectable()                             │ @Component({
  │ export class ServiceX {                   │    selector: ...
  │   ...                                     │    templateUrl: ...
  │   public infoObservable =                 │    providers: ...
  │     new Subject<string[]>();              │    styleUrls: ...
  │                                           │ })
  │   private async refreshInfo() {           │ export class Comp01 implements OnInit {
  │      ...                                  │
  │      const info = await getRemoteInfo()   │   constructor(
  │      this.infoObservable .next(info);     │     private myService : ServiceX ) {
  │   }                                       │     ...
  │ }                                         │   }
  └─────────────────────────────────────────  │
                                              │   ngOnInit() {
                                              │     this.myService.
                                              │       .infoObservable.subscribe(
                                              │        ( info ) => { /* "consume info */ }
                                              │     )
                                              │   }
                                              └───────────────────────────────────────────
[[}]]

[[{stack.angular]]
● PrimeNG Library
@[https://www.primefaces.org/primeng/#/]
• See also other "top" Frameworks:
@[https://www.ngdevelop.tech/best-angular-ui-component-libraries/]

•  PRE-SETUP
 $ $ npm install primeng --save
 $ $ npm install primeicons --save
 $ $ npm install @angular/animations --save   (opt)
         ^
    Or manually add dependencies to
    package.json add like :
    ...
    "dependencies": {
        ...
  +     "primeng": "^10.0.0",
  +     "primeicons": "^4.0.0"
        ...
    }
• 95% of code is native with no 3rd party dependencies
• UI component library configured as ng-modules. e.g:
  import {AccordionModule} from 'primeng/accordion'; //accordion and accordion tab
  import {MenuItem}        from 'primeng/api';       //api
• Lot of free themes out-of-the-box.

• Ex. config. for required styles:
    "styles": [
      "node_modules/primeng/resources/themes/saga-blue/theme.css",
      "node_modules/primeng/resources/primeng.min.css",
      "node_modules/primeicons/primeicons.css",
      ...
    ],
    ...
• See also: PrimeNG Video Tutorial:
@[https://www.youtube.com/watch?v=4Wk4RgYN9ZQ&list=PLEXcOZ7ShIgAnxrnPgiOpIz1uPKZNQ9ZJ]
[[}]]

[[{stack.angular.101,mobile.pwa,code.async,data_management.cache,02_doc_has.comparative,performance.cache,devops,01_PM.TODO]]
● Service Workers  @ma #[angular_service_worker]
@[https://angular.io/guide/service-worker-intro]
• See general introduction to Service workers at #[service_workers_summary]
• The Angular service worker's (v5.0+) design goal:
  • Caching app as one unit. The running app will use the               [devops]
    same version of all files (vs randomnly receiving cached
    files from a newer incompatible version).
  • Refreshing will show latest fully cached version.                   [devops]
    with updates executing in background.
  • NG service will load the PWA manifest file from the server
    describing the resource to cache.  When an update to the
    PWA is deployed, manifest data changes triggering the
    background update.
  • TheB manifest is generated from "ngsw-config.json" .                [devops]

• NG Service how-to:
  • Include  NgModule ????                                                [TODO]
  • Registering NG Service Worker with the browser:
    •  WARN:  PWApp must be accessed over HTTPS, not HTTP.
              Otherwise, registration will fail to avoid
              tampering. (security meassure since Service Workers
              are "quite powerful").
              Exception: localhost is allowed for developers.

  • See Service Worker config at:                                         [TODO]
  @[https://angular.io/guide/service-worker-config]
  • See Service Worker production ready at:                       [TODO][devops]
  @[https://angular.io/guide/service-worker-devops]
[[}]]

[[{]]stack.angular.forms,mobile.pwa,qa.error_control,code.low_code,01_PM.BACKLOG" >
● Interactive Forms
@[https://angular.io/guide/forms]
Support complex data entry scenarios with HTML-based validation and dirty checking.

- template-driven interactive form how-to

  - Requested features:
  - from with control elements bound to data properties
  - input data integrity validation with two-way data binding


- design approaches:
  -  Alt 1: write templates using:
           - NG template syntax
           - form-specific directives
           - "best-pattern".
    - suitable for small or simple forms

  -  All 2: Use reactive(==model-driven) approach
    - lay out the controls creatively, binding to the data in your object model.
    - Set input validation rules and output display validation errors.
    - conditionally enable controls.
    - trigger built-in visual feedback,
    - ...
_________________________________________________________
  Alt 1: template-driven form
  - Next directives defined in  FormsModule  are used:.
    - NgModel : reconcilites "form element"  ←→ data model value changes
                - used also to respond to user input (input validation, error handling).

    - NgForm : - creates top-level  FormGroup  instance bined to <form> DOM.
               - track aggregated form value and validation status.
               - active by default on all <form> tags at "FormsModule" import
                 (it has a selector matching the <form> element).

    - NgModelGroup : create+bind  FormGroup  instance  ←→ DOM element.

  - STEPS:
    - Define a sample data model.
    - Include FormsModule,... "stuff".

    - Bind form-controls ←→ data properties with  ngModel
      - Examine how ngModel reports control states using CSS classes.
      - Name controls to make them accessible to ngModel.

    - Track input validity/control status with  ngModel
      - Add custom CSS to provide visual feedback on the status.
      - Show and hide validation-error messages.

    - Respond to a native HTML button-click event by adding to the model data.

    - Handle form submission using form  ngSubmit  output property.
      - Disable the Submit button until the form is valid.
      - After submit, swap out the finished form for different content on the page.


Ex: two required fields (css:left border when OK, red otherwise)
     with initial default values.

    - src/app/hero.ts: (Model)

      export class Hero {
        constructor(
          public id: number,
          public name: string,
          public power: string,
          public alterEgo?: string
        ) {  }
      }

    - src/app/hero-form/hero-form.component.ts: (v1) (layout, details)

      import { Component } from '@angular/core';
      import { Hero } from '../hero';

      @Component({
        selector: 'app-hero-form', ·············· ← drop form in parent template using  <app-hero-form>
        templateUrl: './hero-form.component.html',
        styleUrls: ['./hero-form.component.css']
      })
      export class HeroFormComponent {

        powers = ['Really Smart', 'Super Flexible',
                  'Super Hot', 'Weather Changer'];

        model = new Hero(18, 'Dr IQ', this.powers[0], 'Chuck Overstreet');

        submitted = false;

        onSubmit() { this.submitted = true; }

        // TODO: Remove this when we're done
        get diagnostic() { return JSON.stringify(this.model); }
      }


    - src/app/app.module.ts:
      import { NgModule } from '@angular/core';
      import { BrowserModule } from '@angular/platform-browser';
      import { FormsModule } from '@angular/forms';              ← enable Forms feature

      import { AppComponent } from './app.component';
      import { HeroFormComponent } from './hero-form/hero-form.component';

      @NgModule({
        imports     : [ BrowserModule, FormsModule ],
        declarations: [ AppComponent, HeroFormComponent ],
        providers   : [],
        bootstrap   : [ AppComponent ]
      })
      export class AppModule { }

    - src/app/app.component.html:
      <app-hero-form></app-hero-form>  ← display at root component's template.

    - src/styles.css:
      (Twitter Bootstrap style classes: container/form-group/form-control/btn)
      @import url('https://unpkg.com/bootstrap@3.3.7/dist/css/bootstrap.min.css');

    - src/app/hero-form/hero-form.component.html
      <style> .no-style .ng-valid   { border-left: 1px  solid #CCC } ; ...  </style>

      <div class="container">
        <div [hidden]="submitted">  ←  main form visible by default since submitted init to  false

          <form (ngSubmit)="onSubmit()" #heroForm="ngForm">
                                        └───┬────────────┘
                                            └──── Access overall form status
                                                  #heroForm : tpl ref.var is now a ref. to
                                                              NgForm directive inst.governing form
                                                              as a whole.
            <div class="form-group">
              <label for="name">Name</label>
              <input type="text" class="form-control" id="name"
                                                      └───┬──┘
                                                          └──────────── (standard HTML). used by <label> to match
                     required
                     [(ngModel)]="model.name"
                     └──────────┬───────────┘
                                └──────────── two-way data binding. model.name server to display and debug that
                                              model is really being updated when user changes input.
                                              NG sets special CSS classes on (NgModel) control elements to
                                              reflect the state.
                                              ┌─────────────────────────────────┬────────────┬─────────────┐
                                              │State                            │ Class      │ Class       │
                                              │                                 │ if true    │ if false    │
                                              ├─────────────────────────────────┼────────────┼─────────────┤
                                              │The control has been visited.    │ ng─touched │ ng─untouched│
                                              ├─────────────────────────────────┼────────────┼─────────────┤
                                              │The control's value has changed  │ ng─dirty   │ ng─pristine │
                                              ├─────────────────────────────────┼────────────┼─────────────┤
                                              │The control's value is valid.    │ ng─valid   │ ng─invalid  │
                                              └─────────────────────────────────┴────────────┴─────────────┘

                     name="name"
                     └───┬─────┘
                         └──────────── [(ngModel)] on an element requires also the name attribute for that element, used by NG
                                       to register such element with the NgForm directive attached to parent form element.

                     #name="ngModel">
                     └───┬─────┘
                         └──────────── tpl reference variable that you can use to access the input
                                       box's Angular control from within the template.
                                       It is set to "ngModel" because that is the value of the NgModel.exportAs property.
                                       This property tells Angular how to link a reference variable to a directive.

                          ┌─────────── Show or hide the error message by binding properties
                          │            of the name control to the message <div> element's hidden property
                   ┌──────┴─────────────────────────────┐
              <div [hidden]="name.valid || name.pristine" class="alert alert-danger">Name is required</div>
            </div>                              └──┬───┘
                                                   └──  pristine == user hasn't changed the value since it was displayed.

            <div class="form-group">
              <label for="alterEgo">Alter Ego</label>
              <input type="text" class="form-control" id="alterEgo"
                     [(ngModel)]="model.alterEgo" name="alterEgo">
            </div>

            <div class="form-group">
              <label for="power">Hero Power</label>
              <select class="form-control" id="power"
                      required
                      [(ngModel)]="model.power" name="power"
                      #power="ngModel">
                <option *ngFor="let pow of powers" [value]="pow">{{pow}}</option>
              </select>
              <div [hidden]="power.valid || power.pristine" class="alert alert-danger">
                Power is required
              </div>
            </div>

            <button type="submit" class="btn btn-success" [disabled]="!heroForm.form.valid">Submit</button>
                                                          └─ automatically hiddes if ─────┘
                                                             form is invalid

            <button type="button" class="btn btn-default" (click)="newHero(); heroForm.reset()">New Hero</button>
            <i>with</i> reset

            &nbsp;&nbsp;
            <button type="button" class="btn btn-default" (click)="newHero()">New Hero</button>
            <i>without</i> reset

           <!-- NOT SHOWN IN DOCS -->
            <div>
              <hr>
              Name via form.controls = {{showFormControls(heroForm)}}
            </div>
           <!-- - -->
          </form>
        </div>

        <div [hidden]="!submitted">
            <div class="col-xs-3">Name      </div> <div class="col-xs-9">{{ model.name }}</div>
            <div class="col-xs-3">Alter Ego </div> <div class="col-xs-9">{{ model.alterEgo }}</div>
            <div class="col-xs-3">Power     </div> <div class="col-xs-9">{{ model.power }}</div>
          <button class="btn btn-primary" (click)="submitted=false">Edit</button>
        </div>
      </div>

  - customizing CSS :
    └ src/assets/forms.css:
    · .ng-valid[required], .ng-valid.required  {
    ·   border-left: 5px solid #42A948; /* green */
    · }
    ·
    · .ng-invalid:not(form)  {
    ·   border-left: 5px solid #a94442; /* red */
    · }
    ·
    ·
    └ src/index.html (styles)
        <head>
        ...
        <link rel='stylesheet' type='text/css' href='...' />

    but it does trigger a form-submit event because of its type (type="submit").
[[}]]
[[$div}]]

[[{$div]]
● Dev.cycle
[[{stack.angular,01_PM.BACKLOG]]
● JIT Compilation
@[https://angular.io/guide/aot-compiler]
- Angular provides just-in-time (JIT) compilation for the
  development environment, and ahead-of-time (AOT) compilation
  for the production environment.
────────────────────────────────────────────────────────────────────────────────
● Testing platform
@[https://angular.io/guide/testing]
- Run unit tests on your application parts as they interact with the Angular framework.
────────────────────────────────────────────────────────────────────────────────
● Internationalization
@[https://angular.io/guide/i18n]
- Make your app available in multiple languages
  with Angular's internationalization (i18n) tools.
────────────────────────────────────────────────────────────────────────────────
● Security guidelines
@[https://angular.io/guide/security]
- Learn about Angular's built-in protections against common
  web-app vulnerabilities and attacks such as cross-site scripting attacks.
[[}]]

● Setup, build, deploy config
[[{]]stack.angular.101," bgorange>
● ng CLI reference
@[https://angular.io/cli]
- Used to:
  - create projects,
  - generate app. and library code.
  - testing, bundling, deployment.
  - ...

  PRE-SETUP:
  $ $ npm install -g @angular/cli

  BASIC WORKFLOW
  $ $ ng new my-first-project\  ←  create, build, and serve (Wait ~ 1 minute to complete)
  $  --strict                   ←  Opt.  @[https://angular.io/guide/strict-mode]   Forbids "any" type
  $ CREATE ...                  ←  initial app created goes to root project folder
  $ CREATE ...                  ←  Additional apps/library go to ./projects/
  $
  $ $ cd my-first-project          new, basic project
  $ $ ng serve                  ←  Automatic rebuilds on edit!!!
                                   Test server listening at:
                                   http://localhost:4200/

  App Layout :
  - New app contains:
    - source files for root module
      - root component + root template.
    - /src folder:  contains
      - logic
      - data
      - assets.
  within a project folder, use $ $ ng generate ...  to add new
  components,services, pipe code, directives, ...  (or do it manually)

    See more about the Workspace file structure.

  Workspace and project configuration

  NOTE: ☞ WORKSPACE 1  ←→ 1+ Project
                             ^^^^^^^
                             application or
                             shareable lib

  ${WORKSPACE}
  └ ./angular.json ← workspace per-project defaults for "ng" command
                     like custorm target defaults, ...
                     Edit it manually or through $ $ng config ...

    See more about Workspace Configuration.
    See the complete schema for angular.json.

  ng syntax:
$ $ ng commandNameOrAlias requiredArg --opt1 --boolOpt2 --noBoolOpt3
                                      └─────────────┬──────────────┘
                     NOTE: opt.names in angular.json are "camelCase".
                           opt.names in ng command   are "camelCase" or
                                                         "dash-case".

$ $ ng generate  "artifact or library to be generated"
$ $ ng add       "artifact or library to be added"
       └──┬───┘  └──────────────────────────────────┘
          │       each artifact/library defines its
          │       own options in a schematic.
     ┌────┴─────────────────────────────────────────────────────────┐
     - add
     - analytics  https://angular.io/cli/usage-analytics-gathering.
     - build      output to dist/
     - config
     - deploy
     - doc        Opens Official Angular documentation in browser,
                  and searches for a given keyword.
     - e2e        Builds and serves an Angular app, then runs
                  end-to-end tests using Protractor
     - generate   Generates/modifies files based on a schematic.
     - help
     - new
     - run        Runs an Architect target with an optional custom builder
                  configuration defined in your project.
     - serve
     - test
     - update     Updates app and dependencies.
                  See @[https://update.angular.io/]
     - version

     - xi18n      Extracts i18n messages from source code.
  Ex:
$ $ ng build              my-app      -c production
                          ^^^^^^
                          generated artifact can also be
                          indicated with --name "my-app"

  Workspace, Project Layout
@[https://angular.io/guide/file-structure]

  ${WORKSPACE}/
  └  .editorconfig
  └  .gitignore
  └  README.md
  └  angular.json
  └  package.json       (npm package dependencies)
  └  package-lock.json  (version information for all npm packages installed)
                        (yarn.lock in case o using yarn)
┌ └  src/               src for root-level  main application project
· └  node_modules/
· └  tsconfig.json      "Solution Style" TypeScript config file. Used by
·                       code editors and TS's language server to inprove dev. experience.
·                       NOT used by compilers . See detailied info about "noImplicitAny",
·                       "suppressImplicitAnyIndexErrors", ... at
·                      @[https://angular.io/guide/typescript-configuration]
· └  tsconfig.base.json base TypeScript config for all (sub)projects in W.S.
· └  tslint.json        Default TSLint config  for all (sub)projects in W.S.
· └  ./projects/        ← Only for (git SCM)  monorepo . Recommended for:
├    └ my-lib01/src       - shareable libraries
·      └ src/lib              library project's logic and data(components,services,
·      ·                      modules, directives and pipes)
·      └ src/test.ts          main unit-test entry point (normally defaults are OK)
·      └ src/public-api.ts    Specifies all files exported from library.
·      └ karma.conf.js
·      └ ng-package.json      Config file used by  ng-packagr  at build time.
·      └ package.json         npm package dependencies required by library.
·      └ tsconfig.lib.json    Lib-custom TypeScript configuration.
·      └ tsconfig.spec.json   TypeScript configuration for the tests.
·      └ tslint.json
·
├    └ py-app02/src       - enterprises using "monorepo" approach.
·      └ ...               In monorepos all developers in all dev.groups
·      └ e2e/              can see all changes from other devs./dev.groups
·        ...               Git becomes the "source-of-true" .
·                          All projects will share similar parent config.
·                          Add new one as:
·                        $ $ ng generate application projectXX (--strict)
· └ e2e/                 End-to-end test files  corresponding to root-level
·   ·                    app, along with test-specific configuration files.
·   └  protractor.conf.js  (test-tool config)
·   └  tsconfig.json       (extends tsconfig.json from workspace)
·   └ src/
·     └  app.e2e-spec.ts   (end-to-end tests for my-app)
·     └  app.po.ts
·
·
└  SOURCE DIRECTORY LAYOUT
   app/            Angular components, templates, styles, logic and data
   └ app.component.ts     : app root component logic ("AppComponent").
                            Its view becomes root of view-hierarchy
                            └──┬───┘
   └ app.component.html   : ←──┘
   └ app.component.css    :
   └ app.component.spec.ts: unit test for root AppComponent.
   └ app.module.ts        : Defines the root module named "AppModule",
                            telling Angular how to assemble the whole app.
                            As you add more components to the app, they must
                            be declared here.

   assets/         images, ... to be copied as-is
   environments/   build config options for a given target
                   By default:
                   - unnamed standard development
                   - production ("prod")
                   - (custom ones can be defined, like acceptance, ...)
   favicon.ico
   index.html      CLI automatically adds all JavaScript and CSS files
                   when building your app, so you typically there is no
                   need to add any script/link tags manually.
   main.ts         App entry point
                   Compiles the application with the JIT compiler and
                   bootstraps the application's root module (AppModule) to
                   run in the browser.
                   - AOT compiler can also be used by appending by using
                   $ $ ng build|serve .... --aot
   polyfills.ts    Polyfill scripts for browser support.
   styles.sass     Lists CSS files supplying styles for a project.
                   (sass extension can vary depending on defaults for project)
                   WARN:!!! sass is in deprecated state. It requires npm packages
                   with lot of dependencies (including gcc/python2/...) when
                   "npm" installing.
                   Don't use it unless you need to maintain a old software.
   test.ts         main entry point for unit tests .
   package.json    (strict mode only)
                   Not used by package managers, it tell tools⅋bundlers whether
                   the code under this directory is free of non-local side-effects.

  APPLICATION-SPECIFIC CONFIG FILES
  .browserslistrc   :  Config sharing of target browsers and Node.js versions
                       among various front-end tools. More info at:
                     @[https://github.com/browserslist/browserslist]
  karma.conf.js     : App-specific Karma configuration.
  tsconfig.app.json : App-specific TypeScript configuration,
                      (TypeScript, ng template compiler options, ...)  [[{01_PM.TODO}]]
                      <!--  ^^^^
                      https://angular.io/guide/typescript-configuration
                      https://angular.io/guide/angular-compiler-options
                      -->
  tsconfig.spec.json: TypeScript config. for the app. tests.
  tslint.json       : App-specific TSLint config.
[[}]]

[[{stack.angular,security.aaa,use_case.identity.openid,standards.identity]]
● NG+Keycloak AAA #[keycloak_angular_openid]
@[https://medium.com/keycloak/secure-angular-app-with-keycloak-63ec934e5093]

 • Core principle behind OpenID-Connect:
   Delegation of  Authentication/Authorization

     ┌─────┐          ┌───────┐          ┌────────┐
     │Alice│          │NG-App │          │Keycloak│
     └──┬──┘          └───┬───┘          └───┬────┘
        │  Can I see      │                  │
        │   this page?    │  Can Alice see   │
        │────────────────>│   that page?     │
        │                 │─────────────────>│
        │ Please, enter (login) credentials? │
        │<───────────────────────────────────│
        │ crendentials (password, token, ...)│
        │───────────────────────────────────>│
        │                 │   OK, Alice      │
        │                 │    can see it    │
        │   page content  │<─────────────────│
        │<────────────────│                  │
     ┌──┴──┐          ┌───┴───┐          ┌───┴────┐
     │Alice│          │NG-App │          │Keycloak│
     └─────┘          └───────┘          └────────┘

•  PRESETUP
  → Keycloak
    → Client Config
      → Add Client :
         Client ID      : angular-test-app
         Client protocol: openid-connect
         Root URL       : https://myapp.mydomain.com ← or dev URL
                                                       (http://localhost:4200)
  → Create new angular app if needed:
    $ $ ng new angular-keycloak
  → Adding official keycloak js adapter
    $ $ npm i keycloak-js --save

• Modify Angular app and next code to main.ts
  let initOptions = { //keycloak init options
    url    : 'https://0.0.0.0:8445/auth',
    realm  : 'keycloak-demo',
    clientId: 'angular-test-app'
  }

  let keycloak = Keycloak(initOptions);

  keycloak
    .init({ onLoad: "login-required" })        //← page load will redirect to
    .success((auth) => {                       //  keycloak Auth. page
      if (!auth) {
        window.location.reload();
        return
      }
      console.log("successful authentication. Bootstrapping now");

      platformBrowserDynamic()
        .bootstrapModule(AppModule)            // ← boostrap module
        .catch(err => console.error(err));

      localStorage.setItem
        ( "ang-token"        ,  keycloak .token);       // Access token
      localStorage.setItem
        ( "ang-refresh-token",  keycloak .refreshToken) // Refresh token

      setTimeout( refreshToken, 60000 /* 1 min*/ )      // May just each hour/day
    })
    .error(() => { console.error("Authenticated Failed"); });

    function refreshToken = () => {
      keycloak .updateToken(70)
      .success( (bRefreshed) => {
          if (bRefreshed) { /* OK */ return ; }
          console.warn('Token not refreshed, valid for '
              + Math.round(
                  keycloak .tokenParsed.exp
                + keycloak .timeSkew
                - new Date().getTime() / 1000) + ' seconds');
        })
     .error(() => { console.error('Failed token refresh'); });
    }


[[}]]


● NativeScript (Native Apps Angular)
[[{stack.angular,mobile.native,stack.vue,mobile.android,mobile.ios,01_PM.TODO]]
● NativeScript
@[https://docs.nativescript.org/]

- Open source framework for building truly native mobile apps with
  Angular, Vue.js, TypeScript, or JavaScript.

- NativeScript features deep integration with modern Angular with
  full-stack features like integration with the Angular CLI, router
  support, code generation, webpack and more.

  External Resources
@[https://github.com/alexziskind1/nativescript-oauth2] [AAA]
@[https://github.com/jbristowe/awesome-nativescript] !!!
@[https://nativescript.org/blog/adding-analytics-to-your-nativescript-app/]
[[}]]

[[{stack.angular,02_doc_has.resource,01_PM.WiP]]
● Recipes
  INIT SERVICE ON PAGE LOAD
  let window: any;
  @Injectable()
  export class MyService01 {
    constructor() {
      window.addEventListener('load' , function (event) { ...  });
    }
  }

  RX Observables:  (TODO:Explain)
  import {Subject} from 'rxjs';
  @Injectable()
  export class MyService01 {
    public accountsObservable = new Subject<string[]  ();
    ...
    this.accountsObservable.next(accs); ← Inject new events
                                          (Will be delivered to observers)

  @Component({ ...  })
  export class MyComponent01 {
    watchAccount() {
      this.myService01.accountsObservable
        .subscribe(function(account_l) { ← Subscribe
        ...                              ← Update component / GUI
      });
    }
  }

[[}]]
[[{stack.vue,stack.react,stack.angular,01_PM.BACKLOG]]
● single-spa: NG+React+Vue integration
@[https://single-spa.js.org]
- Framework freedom:
  Use multiple frameworks in a single-page application, allowing you to split code
  by functionality and have Angular, React, Vue.js, etc. apps all living in harmony.

- Lazy load applications
  Stand up new apps next to the old one. You write the applications, single-spa makes
  them work together and won't load them until they're needed.

- Front-end microservices
  Combine many small apps, empowering teams to choose their technology. Stay nimble as
  your team, product, and tech stack grows and changes over time.
[[}]]

[[$div}]]
[[$div angular}]]



[[{$div]]
    ● Server side Tech
[[{$div]]
● API Management
[[{qa.api_management,api_management.101,standards.api_management,use_case.crm,use_case.erp,security.aaa,use_case.payments,use_case.monetization,standards,security.privacy,use_case.b2b]]
#[openapi_summary]
● OpenAPI Spec 3.x
@[https://swagger.io/specification/]
• language-agnostic RESTful APIs interface definition for computers and humans .
• can also be used as documentation.
• External Resources:
  · Collection of OpenAPI Tools: @[https://github.com/OpenAPITools]
    · OpenAPI-diff:
      @[https://github.com/quen2404/openapi-diff]
  · OpenAPI topics @ github:
    @[https://github.com/topics/openapi]
    · ...


Ex OpenAPi Definition:
   | openapi: '3.0.3'
   |
   | info:
   |   title: 'MyRESTService'
   |   description: MyRESTService API Document
   |   version: '0.0.1'
   |
   | servers: [ { url: https://www.mycompany.com/ } ]
   |
   | paths:
   |   '/api/v1/module1/service1':
   |     put:
   |       summary: ...
   |       description: >
   |         This is a multi-line markup description
   |          * bullet1
   |          * bullet2
   |       tags: [ MyModule1, Service1, ... ]   ← Orthogonal topics
   |
   |       requestBody:
   |         $ref: '#/components/requestBodies/entity01'
   |       parameters:
   |         - name: SecuritySchemes
   |           in  : header       ← :=  header ← HEAD / GET / PUT / POST
   |                                  | query  ←        GET / PUT / POST
   |                                  | body   ←              PUT / POST
   |           description: |
   |             Set Access Token
   |             Format: "Bearer"+[space]+[jwt]
   |           schema:
   |             $ref: "#/components/schemas/entity01"
   |           required: true
   |
   |         - name: queryParam1
   |           in  : query
   |           required: true
   |           schema:
   |             type: string    ← boolean | number | ...
   |                               { type: string, enum: [asc, desc] }
   |         - name: ...
   |
   |       responses:
   |         '200': { description: 'OK' }
   |         '400': { description: 'KO' }
   |
   |   '/api/v1/module1/service1':
   |     get:
   |       summary: ...
   |       ...
   |       responses:
   |         '200':
   |           description: 'OK'
   |           content:
   |             application/json:
   |               schema:
   |                 $ref: '#/components/schemas/entity01'
   |         ...
   |
   | components:
   |   schemas:
   |     entity01:
   |       type: object
   |       properties:
   |         blNo           : { type: string }
   |         senderCompanyId: { type: string }
   |         version        : { type: number }
   |
   |   requestBodies:
   |     entity01:
   |       content:
   |         "application/json":
   |           schema:
   |             $ref: '#/components/schemas/entity01'

────────────────────────────────────────────────────────────────────────────────

● TOP Open APIs
REF: @[https://projects.tmforum.org/wiki/display/API/Open+API+Table]
• Account Management API
     standardized mechanism for management of billing and settlement
   accounts, as well as for financial accounting (account receivable)
   either in B2B or B2B2C contexts.
• Appointment API
  standardized APIs to book appointment, including:
  ✓ parameterized searching for free slots
  ✓ nature and place of appointment.
  ✓ ...

• Customer Management API
  standardized API for customer and customer account management
  (creation, update, retrieval, deletion and notification of events).

• Partnership Type Management API
  Standardized API for CRUD operations on partnership types.
   It is one of the APIs involved in an onboarding process .
   ✓ Identifies type of partnership among parties
     (allowed role types list, e.g: [ Buyer, Seller, Developer].
• Party Management API :

  Standardized API for CRUD party management.
  Party := individual | organization

• Party Role Management API
 standardized API for general CRUD party roles and notification of events.

• Product Catalog Management API
  standardized API for adding partners' products to existing Catalog.
  It brings the capability for Service Providers to directly
  feed partners systems with the technical description of the products they
  propose to them.

• Product Inventory Management API
  standardized API for CRUD (representation of)product inventory management
  and product lifecycle event notification.

• Product Offering Qualification API :
  One of Pre-Ordering Management API Family.

• Product Ordering API :
  standardized API for placing a product order.
  simple set of operations to interact with CRM/Order negotiation systems
  in a consistent manner.

• Quote Management API :
  one of the Pre-Ordering Management APIs.

• Shopping Cart API :
  standardized API for shopping-carts CRUD and events management.
  used for the temporary selection and reservation of product
  offerings in e-commerce and retail purchase.

• Trouble Ticket API :
  standardized API to Trouble Ticket Management Systems CRUD among
  partners as result of an issue or problem identified by a customer
  or another system.
  Examples of Trouble Ticket API clients include CRM applications,
  network management or fault management systems, or other trouble
  ticket management systems (e.g. B2B).

• Agreement Management API :
  standardized API for managing agreements, especially in the context
  of partnerships between partners.

• Communication API :
  create+send communications, notifications, and instructions to
  Parties, Individuals, Organizations or Users.

• Entity Catalog Management API :
  The entity catalog is intended to provide any SID entity to consumers via a
  catalog, with its specification and policy providing governance over its
  content. The API provides management of the entity specifications and their
  associations thru CRUD operations.

• Federated Identity API :                                                      [aaa]
  management of principals of any kind (persons, objects, …) and their
  access to resources in an open environment which can span across different
  enterprise boundaries. It relies on authentication, authorization and consent
  mechanisms to protect privacy with a simple and easy user experience.
  Different parties can provide identity services
  (operators, social networks, GSMA, …).

• Geographic Address Management API :
  Standardized client interface to an (worldwide) Address management system,
  validating and searching for geographic address data:
  1) searching an area as a start (city, town ...)
  2) zooming on the streets of this area
  3) listing all the street segments (numbers) in a street.

• Geographic Location Management API :
  Provides the information of a geographic region of the entity (customer,
  equipment, address).

• Geographic Site Management API :
  CRUD ops to manage sites that can be associated with customers, accounts,
  service delivery or other entities.

• Loyalty Management API :                                   [monetization]
  Supports the management of loyalty program specifications, loyalty program
  members, their associated products and loyalty accounts with loyalty balances
  https://www.tmforum.org/resources/specification/tmf658-loyalty-management-api-rest-specification-r17-0-1/

• Partnership Type Management API :
  Standardized mechanisms for creating partnership types. It is one of the APIs
  involved in an onboarding process.

• Party Interaction Management API :
  A User Interaction captures information about past interactions in order to
  reuse it in future ones. This allows agents to serve users better by knowing
  the steps they went through. It also allows customers to see better the
  actions they have performed and how they interacted with us.

• Party Management API :
  Provides a standardized API for party CRUD management.

• Party Role Management API
  Provides a standardized API for general party roles CRUD management.

• Payment Management API :                                                      [payments]
  standardized client interface to Payment Systems for notifying about
  performed payments or refunds.
  Examples of Payment API originators (clients) include:
  Web servers, mobile app servers, Contact center dashboards or retail
  store systems.

• Payment Methods API :                                                         [payments]
  This API supports the frequently-used payment methods for the customer to
  choose and pay the usage, including voucher card, coupon, and money transfer.

• Prepay Balance Management API                                                 [payments]
  REST API for Balance Management. It includes the model definition as well as
  all available operations for prepay balance management. Prepaid subscribers
  pay fees before using services. Therefore, the subscribers must have
  sufficient balances. Operators can provide multiple recharge channels for
  subscribers. Subscribers can pass credit between different subscriptions,
  therefore transferring the balance from one account to another.

• Privacy Management API :                                                      [privacy]
  The Privacy management API provides standardized mechanisms for privacy
  profile types, privacy profiles and privacy agreements such as creation,
  update, retrieval, deletion and notification of events..

• Product Catalog Management API :
  standardized API for rapidly adding partners' products to an existing
  Catalog. It brings the capability for Service Providers to directly
  feed partners systems with the technical description of the products they
  propose to them.

• Product Inventory Management API :
  standardized API for CRUD of representation-of-product in inventory.

• Product Offering Qualification API :
  One of Pre-Ordering Management API Family, providing Product Offering
  commercial eligibility.

• Product Ordering API :
  standardized API for placing a product order interacting with CRM/
  Order negotiation systems in a consistent manner.

• Quote Management API :                                                       [payments]
  One of the Pre-Ordering Management APIs allowing to place a customer
  quote with all of the necessary quote parameters.

• Resource Catalog Management API :
  API spec allowing the management of the entire lifecycle of the
  Resource Catalog elements and the consultation of resource catalog
  elements during several processes such as ordering process.

• Resource Function Activation and Configuration API :
  This API introduces Resource Function which is used to represent a Network
  Service as well as a Network Function. The Network Service and Network
  Function class definitions and associations in TR244 (which, in turn, builds
  on concepts from the SID addenda on Logical Resource and Service) are
  utilized to define the Resource Function

• Trouble Ticket API :
  standardized client interface to Trouble Ticket Management Systems
  for creating, tracking and managing trouble tickets among partners as a
  result of an issue or problem identified by a customer or another system.
  API clients include CRM applications, network management or fault
  management systems, or other trouble ticket management systems (e.g. B2B).

• Usage Consumption Management API :                                            [monetization]
  API allowing real-time view of the balance of the various buckets
  (SMS, Voice, Data for example) that a user consumes with each of his devices
  and the usages done out of the bucket.  Usage report retrieves the data
  related to these balances.
   This API should also allow performing a direct top-up on the balance of
  a prepaid bucket with voucher references or with a given credit value after
  a payment done by a credit card or with a credit value transfer.

• Usage Management API :
   Provides standardized mechanism for collection-of-usages CRUD management.
  E.g: It allows a service provider to
       1) retrieve usage generated by a partner service platform in order to rate it
       2) provide rated usage to a partner for consumption follow up purposes.

• User Roles⅋Permissions API :
  user role : entity that defines a set of privileges covering various functions
              and/or manageable assets.
              (session) User are assigned a given role then it is actually allocated
              all the privileges defined for that role type and the corresponding
              permissions are created for that user.

[[}]]


[[{api_management,standards,code.async,01_PM.TODO]]
● Open Data Protocol
@[https://www.odata.org/]
• ISO/IEC approved, OASIS standard
• It defines   set of best practices for building and consuming
  RESTful APIs to focus on business logic without worrying
  about different approaches to define request/response headers,
  status codes, HTTP methods, URL conventions, media types,
  payload formats, query options, etc.
• OData provides guidance for:
  · tracking changes
  · defining functions/actions for reusable procedures
  · sending asynchronous/batch requests.                           [async]

• OData RESTful APIs are easy to consume.
  - OData metadata, a machine-readable description of the
    data model of the APIs, enables the creation of powerful
    generic client proxies and tools.

• OData Tools include:
  - Visual Studio Code for OData Extension:
    - adds rich support for the OData query language
  - XOData
    - generic online OData API/Service visualizer and explorer.
      It assists in rapid prototyping, verification, testing,
      and documentation of OData APIs. With XOData Chrome App
      it's also possible to explore OData Services deployed
      locally or on private networks.

[[}]]




[[{code.async,standards.api_management,api_management.101,qa,01_PM.TODO]]
● asyncapi.org/ #[asyncapi_summary]
@[https://www.asyncapi.org/]
• Low level standard (vs OpenAPI high-level/business oriented)
  to architect future event-driven architectures.
• Open source tools to easily build and maintain your event-driven
  architecture. All powered by the AsyncAPI specification, the industry
  standard for defining asynchronous APIs.
• Compatible with OpenAPI Spec, allowing to re-use schema definitions.

See comparative with OpenAPI and CloudEvents at:
@[https://www.asyncapi.com/blog/async_standards_compare]

• Extracted from ebay anouncement to adopt AsyncAPI:
@[https://www.infoq.com/news/2021/05/ebay-adopts-asyncapi/]
    One of the critical AsyncAPI features that eBay's team has found
  particularly useful is   clean separation between channels,
  operations, and servers.
  · A channel represents an event stream
  · An operation describes a publish or subscribe process.
  · A server facilitates the message transfer (i.e., the message bus).
  This separation allows a complete representation of producers, consumers,
  and message schemas, resulting in a standardized model of a
  message-driven ecosystem.
[[}]]

[[{code.low_code,api_management,qa.testing,01_PM.TODO]]
● Mirage: Fast Prototyping
@[https://miragejs.com]

• Mirage JS is an API mocking library that lets you build, test and
  share a complete working JavaScript application without having to
  rely on any backend services.
────────────────────────────────────────────────────────────────────────────────
● WireMock
• HTTP-based simulator to mock APIs for fast, robust and comprehensive testing.
• Fix the problem of testing APIs that do NOT yet exists or is imcomplete.
• test edge cases/failure modes that real API won't reliably produce.
• It can reduce build time from hours to minutes.
[[}]]

[[{api_management.apigee,01_PM.TODO]]
● APIgee: x-Cloud API Mng
- The Cross-Cloud API Management Platform
  https://cloud.google.com/apigee/
[[}]]

[[$div}]]

[[{$div]]
● NodeJS #[nodejs_summary]
● nvm Install [[{stack.nodejs.101,devops.101]]
@[https://github.com/nvm-sh/nvm]
• nvm: Node Version Manager allows to install different versions of node
       in parallel.

  $ $ nvm install 14
  $ $ nvm use 14
  $ $ node -v
    v14.18.0
  $ $ nvm uninstall 12


● NodeJS summary
@[https://nodejs.org]
• Server-side JavaScript platform (Node.js).
  built against modern versions of V8.
• Server API extensions for subprocesses, TTY, TCP servers, ...

  ##########
  # nodenv #
  ##########
@[https://github.com/nodenv/nodenv]
• Utility to manage multiple Node.js versions installed in parallel.
• Preferred to OS install (apt, dnf, chocolate, ...)

$ $ nodenv install $version   ← Install specific version of Node.js
$ $ nodenv install --list     ← list of available versions
$ $ nodenv global $version    ← Use specific version across whole system
$ $ nodenv local  $version    ← Use specific version within directory
$ $ nodenv version            ← Display Node.js version for current dir.
$ $ nodenv which $command     ← Display location of installed command
                                (e.g. npm,yarn,...)



 $ $ node                    ← Start interactive shell (REPL loop)
 $ $ node path_to_file.js    ← Run JS file
 $ $ node -e "{{js_code}}"   ← Evaluate JS code
 $ $ node -p "{{js_code}}"   ← Evaluate and print result, useful to see
                               node's dependencies versions
                               e.g: $ $ node -p "{{process.versions}}"
                               { http_parser: '2.8.0',
                                 node: '10.16.3',
                                 v8: '6.8.275.32-node.54',
                                 ...
                                 unicode: '12.1',
                                 ... }

 $ $ node --no-lazy      \   ← Activate inspector, pausing execution until      [debug]
 $   --inspect-brk file.js     a debugger is connected once source code is
                               fully parsed

  #######
  # npm #
  #######
@[https://www.npmjs.com/]
• npm : Node Package Manager manage projects and module dependencies.   [devops]
• npm project layout
  ./package.json       ← JSON file with dev/pro. package dependendies
  ./node_modules       ← Installed packages (Add to   .gitignore , do not commit).
  ./package-lock.json  ← npm v5+: It describes the exact tree that was generated,
                         such that subsequent installs are able to generate
                         identical trees , regardless of intermediate dependency updates.
                         Must be kept in git (version control) as any other source file.


$ $ npm init                ← create "package.json" interactively
$ $ npm install             ← Download dependencies listed in package.json
$ $ npm install $mod@$ver   ← Download specific package ver. and add it
                              dependencies@package.json
                              · Use '--save-dev' to add to
                                dev-dependencies@package.json
                              · Use '--global' to install OS system wide

$ $ npm uninstall $mod      ← Uninstall +remove dependencies@package.json
$ $ npm list                ← Print tree of locally-installed dependencies
                              · Use --global --depth={{0}} to list
                                top-level globally installed modules

$ $ npm-check               ← report outdated/incorrect/unused dependencies
                              · Use --skip-unused  to ignore un-used packages
$ $ npm-check --update      ← Interactively update out-of-date packages
$ $ npm-check --update-all  ← Update all no prompting


$ $ npm-why $mod_name       ← Identifies why an package is installed.


  #################
  # Windows setup #    [windows][troubleshooting]
  #################
@[https://www.npmjs.com/package/windows-build-tools]
$ $ npm install --global windows-build-tools
                         └─────────────────┘
[[}]]

[[{stack.nodejs,02_doc_has.resource,qa.billion_dolar_mistake,performance.js_engine,troubleshooting,security.tls,dev_lang.js,qa]]
● NodeJS What's new
• Node 14+
  ·  Optional chaining operator '?.'                         [billion_dolar_mistake][qa]
     skip manual null validation when fetching property located deep
     within a chain of connected objects. e.g.:
     const adventurer = {
       name: 'Alice',
       cat: { name: 'Dinah' }
     }
     console.log(adventurer. dog?. name); ← ?.  Result: undefined (no error)
      console.log(adventurer.dog ⅋⅋       ← manual (non-compact) check (false)
                  adventurer.dog.name);
    WARN:  This operator doesn't fix the billion dolar mistake,
           since check for nulls/undefined is still needed, but
           it makes syntax more compact and clear to read.
  ·  Nullish coalescing logical operator '??'                [billion_dolar_mistake][qa]
     logical op. returns the operand on its right when
     the operand on its left is null or undefined.
     Otherwise, it returns its left-hand-side operand. e.g:

     let safe_name = nullableEntry ?? "n/a" ← Recomended fallback op. (vs || )
• Node 12: 2019-10   LTS version!!!
@[https://medium.com/@nodejs/introducing-node-js-12-76c41a1b3f3f]
• 30% faster startup generating code cache for built-in libraries
  in advance at build time, and embed it in the binary.
• better default heap limits based on available mem vs using defaults.
  Particularly useful when processing large data-sets.     [performance]
• new features:
  ✓ diagnostic report                                      [troubleshooting]
    generate report on demand on certain events
    (production crashes, slow performance, memory leaks,
     high CPU usage, unexpected errors ...). More info at:
     https://medium.com/the-node-js-collection/⏎
       easily-identify-problems-in-node-js-applications⏎
       -with-diagnostic-report-dc82370d8029
  ✓ bundled heap dump capability
    Useful to debug memory problems. More info at:
    https://github.com/nodejs/node/pull/27133
    https://github.com/nodejs/node/pull/26501
• updates to V8(v 7.4) brings:
  · Async stack traces:
    https://v8.dev/blog/v8-release-72#async-stack-traces
  · Faster calls with arguments mismatch
    https://v8.dev/blog/v8-release-74#faster-calls-with-arguments-mismatch
  · Faster await:
    https://v8.dev/blog/v8-release-73#faster-await
  · Faster javascript parsing:
    https://v8.dev/blog/v8-release-72#javascript-parsing

• Hello TLS 1.3 introduces and defaults to TLS 1.3        [TLS]
• Native Modules Easier to implement include better support
  in Worker threads, and N-API .
  https://nodejs.org/api/n-api.html#n_api_n_api
• Workers Threads no longer experimental. More info at:
@[https://medium.com/@Trott/using-worker-threads-in-node-js-80494136dbb6]
• Experimental ES6 Module Support                         [es6]
[[}]]
[[{stack.nodejs,code.low_code,01_PM.BACKLOG]]
● oclif
@[https://oclif.io/]
• Open (console) command line interface Framework to create
  friendly cli tools.
[[}]]

[[{qa.*,qa.security,stack.nodejs,security.aaa,code.low_code,security,security.audit,01_PM.TODO]]
● Hapi Web Framework!!! @ma #[hapi_framework_summary]
• NodeJS web framework.
• See also complementarion Caddy HTTPs server automating
  certificate renewals:
@[../General/cryptography_map.html#caddy_https_server]
• Simple, Secure Framework that Developers Trust
• Originally developed to handle Walmart’s Black Friday scale.
• Recommended by Brendan Eich
  Creator of JavaScript and CEO, Brave
  "...hapi provides the right set of core APIs and extensible
  plugins to support the requirements of a modern service
  - session management, security, connectivity, and testing"

•  When you npm install @hapi/hapi, every single line of code you get
   has been verified. (No deep dependency being poorly maintained).
   hapi is the only leading node framework without any external code
   dependencies. None.

• End-to-end Code Hygiene — hapi requires the most secure settings
  to manage, control, and distribute code, including 2FA for all
  contributors.
• Secure Defaults, Updated Regularly — every hapi component comes     [security]
  with the most secure defaults out-of-the-box. Along with protecting
  server load with payload limits and request timeouts, hapi blocks
  error messages that could leak information or echo back exploits.
• Integrated Authorization and Authentication Architecture — the           [aaa]
  most comprehensive authorization and authentication API available in
  a Node framework.
• Advanced Features — with encrypted and signed cookies, secret or
  key rotation, and HTTP security headers, there are no excuses for
  building insecure applications.
• Reliable, Predictable Ownership – when something goes wrong, you
  know who to contact. Security updates are handled under a strict,
  well-defined protocol.
• Rich ecosystem – hapi’s extensive set of official plugins means
  no more blindly trusting some middleware you found for critical
  functionality just because it has a high count on npm.
• In-house Security Expertise – created by Eran Hammer, the author
  of the OAuth specifications and other identity protocols.
[[}]]


[[$div}]]

[[{$div]]
[[{stack.deno,qa,security,01_PM.TODO]]
● Deno (NodeJS +++)
• extracted from
@[https://www.infoq.com/news/2020/06/deno-1-ready-production/]
  Deno Is Ready for Production  @ma
  • Deno: secure runtime for JS, TS and WebAssembly on V8 engine.
  • created by the original developer of Node.js, Ryan Dahl, to
    address what he called "10 things I regret about Node.js".
  • Notable differences for application developers:
    • single binary application (vs Node.js modular binaries).
    • Avoid complex dependency management solutions like the NPM.
      Developers declare dependencies in source code using direct URLs.
      • Already 500+ third-party Deno modules available.
      (   not compatible with NPM packages written for Node.js , but
        porting must be easy).
    • Deno runtime is secure by default. If application needs to      [security]
      access the file system or network, the developer needs to
      declare it explicitly.
[[}]]

[[$div}]]
[[$div}]]

[[{$div]]
● MONETIZATION @mb
[[{use_case.monetization,use_case.payments,01_PM.BACKLOG]]
● Web Monetization
@[https://webmonetization.org/]
• JS browser API to allows the creation of a payment
  stream from the user agent to the website.

• Proposed W3C standard at the Web Platform Incubator
  Community Group.

• SETUP HOW-TO:
  1) Set up a web monetized receiver for receiving payments.
     Most of the times this include signing with some payment
     services, but a crypto-wallet owned by the user could be
     an alternative solution.
     The wallet must support the Interledger protocol ILP.        [protocol]
     account.

  2) Fetch the  payment-pointer  from the ILP wallet. e.g.:
     $wallet.example.com/alice

  3) Create <meta> tag telling Monetization providers how to pay. e.g.:
     <meta name="monetization"                   ← name is always monetization
           content="$wallet.example.com/alice">

  4) Add <meta> tag from step 3 to the <head> of each page to be monetized.

[[}]]

[[{use_case.monetization,use_case.payments,01_PM.BACKLOG]]
● Coil
@[https://medium.com/coil/coil-building-a-new-business-model-for-the-web-d33124358b6?utm_source=singlepagebookproject]

Innovating on Web Monetization: Coil and Firefox Reality
https://hacks.mozilla.org/2020/03/web-monetization-coil-and-firefox-reality/


Ilp: coilhq/coil-wordpress-plugin: Coil's Wordpress Web Monetization Plugin
@[https://github.com/coilhq/coil-wordpress-plugin]
[[}]]

[[{use_case.monetization,standards.finance,01_PM.BACKLOG]]
● OpenRTB
Real-time Bidding (RTB) is a way of transacting media that allows an
individual ad impression to be put up for bid in real-time. This is
done through a programmatic on-the-spot auction, which is similar to
how financial markets operate. RTB allows for Addressable
Advertising; the ability to serve ads to consumers directly based on
their demographic, psychographic, or behavioral attributes.

The Real-Time Bidding (RTB) Project, formerly known as the OpenRTB
Consortium, assembled technology leaders from both the Supply and
Demand sides in November 2010 to develop a new API specification for
companies interested in an open protocol for the automated trading of
digital media across a broader range of platforms, devices, and
advertising solutions.
[[}]]

[[$div}]]

[[{$div]]
● Advanced Libs
[[{data_management.text_search,performance,01_PM.TODO]]
● Stork: Wasm in-browser Full-text Search!!!
@[https://www.infoq.com/news/2020/03/stork-wasm-rust-text-search/]
Stork, a Rust/Wasm-Based Fast Full-Text Search for the JAMStack
[[}]]

[[{dev_lang.js,data_management.text_parsing,01_PM.BACKLOG]]
● JiSON: context-free
@[http://zaach.github.io/jison/docs/]
Jison takes a context-free grammar as input and outputs a JavaScript
file capable of parsing the language described by that grammar.
You can  then use the generated script to parse inputs and accept,
reject, or perform actions based on the input. If you’re familiar
with Bison or Yacc, or other clones, you’re almost ready to roll.
[[}]]

[[{data_management.text_input,dev_lang.js,01_PM.BACKLOG]]
● HTML Editors (in HTML)
• Monaco Editor(used by VSCode,Che...)
  • Blazeling fast web-editor (Used by VSCode, Che, ...)
  @[https://code.visualstudio.com/docs/editor/editingevolved]
• Quill.js WySiWyG Editor
@[https://www.scalablepath.com/blog/using-quill-js-build-wysiwyg-editor-website/]
[[}]]


● IA Tools
[[{IA.cognitive,01_PM.BACKLOG]]
● trackingjs Face detection
@[https://trackingjs.com]
• computer vision algorithms into the browser environment.
• Enables real-time color tracking, face detection and much more.
• lightweight core (~7 KB)
• intuitive interface.
[[}]]

[[{IA]]
● Tensorflow.org
Tensorflow using JS + WebGL
@[https://js.tensorflow.org/]
[[}]]

[[{IA.cognitive,01_PM.BACKLOG]]
● Face⅋Speech Recog.
@[https://dzone.com/articles/tutorial-how-to-build-a-pwa-with-face-and-speechrecognition?edition=636291]
• Face detection API:
  face recognition in the browser:
@[https://justadudewhohacks.github.io/face-api.js/docs/index.html]
• Web speech API:
  enables "Speech to text" in the app.
@[https://developer.mozilla.org/en-US/docs/Web/API/Web_Speech_API/Using_the_Web_Speech_API]

  (above APIs can only work when enabling
  "Experimental Web Platform features" in the
  browser via the url: chrome://flags

$ $ git clone https://github.com/petereijgermans11/progressive-web-app
[[}]]
[[$div}]]

● SEO [[{use_case.SEO]]

[[{use_case.seo,use_case.monetization,standards,01_PM.WiP]]
● SEO Summary #[seo_sitemap_schema.org_summary]
• SEO stands for  Search Engine Optimization .

  ############################
  # SEO rules for WHOLE site #
  ############################
  1) Create 1 or more *sitemap.xml

  2) Create 1 robot.txt

  3) Use HTTPS (vs HTTP)

  ############################
  # SEO rules for html pages #
  ###########################
  ✓  Use Rich Structured Data to provide indexing metadata.
     For special content (charts, images, media, ...) it is
     specially important. e.g, use schema.org/VideoObject
     to index videos inside pages.

  ✓  Add primary keywords to:
     • Title Tag / Meta Description
     • URL
     • H1, H2 Headings.
     • anchor text of internal links

  ✓  Add secondary keywords to:
     • Subheadings
     • Alternative text
  ✓  Make page/site mobile friendly
  ✓  Remove broken links

  NOTE: Page load speed does NOT affect SEO indexing, but it can affect
        final users, that will "skip over" slow sites.

  #############################
  # Sitemap Protocol standard #
  #############################
@[https://www.sitemaps.org/protocol.html]
• Sitemaps standard, proposed by Google, helps search engines
  (crawlers and indexers) to inform about URLs metadata
  for a given Web Resource (URL).
  <?xml version="1.0" encoding="UTF-8"?> ← Max. size: 50MB
  <urlset
      xmlns="http://www.sitemaps.org/schemas/sitemap/0.9">
     <url>                               ← one entry per URL. 50.000 urls per XML
        <loc>http://www.foo.com/</loc>   ← non-optional. All loc in
                                           XML must match same host
        <lastmod>2005-01-01</lastmod>    ← Complements If-Modified-Since (304)
                                           HTTP response header (from servers)
        <changefreq>monthly</changefreq> ← Aproximate hint to search engine
                                           := always | hourly | daily | weekly
                                           | monthly | yearly | never
                                           always : dynamic  content
                                           never  : archived content
         <priority>0.8</priority>        ← 0.0-to-1.0: relative to other site's URLs
                                           (defaults to 0.5)
     </url>
  </urlset>
  NOTE: additional metadata about alternate language versions, video, image,
        or news-specific pages can be included                            [TODO]

• sitemaps can be "pushed" directly to different search engines         [devops]
  to trigger fast-indexation (vs waiting for hours/days/weeks for passive
  indexing by web crawlers). e.g, Google Search Console  allows to
  manually submit one or more XML sitemaps for a given domain an see
  indexation results. Also via "PUSH" HTTP request like:


$ $ curl https://${searchengine}/ping?sitemap=http://www.example.com/sitemap.gz
  (via curl, wget, ..., returning HTTP 200 if every works "OK")



  • Asking Google to re-crawl a site:
  @[https://developers.google.com/search/docs/advanced/crawling/ask-google-to-recrawl]
    · There is a quota for submitting individual URLs:
      Alt 1) only for 'owners' Search Console property
             → URL Inspection tool
               → Inspect the URL
                 → Select "Request indexing".

      Alt 2) Submit a sitemap ("many" URLs)


• About URL encodings:
  all URLs (including Sitemap hosting URL) must be URL-escaped
  by the web server on which they are located.

  https.../üm.php⅋q=name
  https.../%FCm.php⅋q=name         ← Server using ISO-8859-1
  https.../%C3%BCm.php⅋q=name      ← Server using UTF-8
  https.../%C3%BCm.php⅋amp;q=name  ← entity escaped URL

• Sitemap index  needed when using more than one Sitemap file.

  <?xml version="1.0" encoding="UTF-8"?>             ← Obligatory when using 2+
  <sitemapindex                                        sitemaps
    xmlns=
      "http://www.sitemaps.org/schemas/sitemap/0.9">
     <sitemap>
        <loc>http://foo.com/sitemap1.xml.gz</loc>    ← foo.com must match loc. of
        <lastmod>2004-10-01T18:23:17+00:00</lastmod>   sitemapindex.
     </sitemap>
     <sitemap>
        <loc>http://foo.com/sitemap2.xml.gz</loc>
        <lastmod>2005-01-01</lastmod>
     </sitemap>
  </sitemapindex>

  Alternatively or in parallel sitemaps can be specified in robots.txt like:
  Sitemap: http://www.example.com/sitemap-host1.xml
  Sitemap: http://www.example.com/sitemap-host2.xml.gz

  ###########
  # DONT's: #
  ###########
  • Don't forget a "robots.txt" to skip content, define Sitemaps.
  • Don't block a page in robots.txt and include it in an XML sitemap.

  ########################################
  # robots.txt Robots Exclusion Protocol #
  ########################################
    TIP: Must be all lower-case,
    placed at URL "root"
   ┌(/var/www/html)/robots.txt ─┐
   │User-agent: *               ← "*" is an acronym for "any robot".
   │Disallow: /cgi-bin/         │ Any other globing or regular expression in
   │Disallow: /tmp/             │ User-agent or Dissallow: is NOT allowed.
   │Disallow: /~joe/            │ e.g.:  Disallow: /tmp/*.gif is incorrect
*1→│                            │
   │User-agent: BadBot          ← To entiry server from BadBot robot:
   │Disallow: /                 │
*1→│                            │
   │User-agent: Google          ← allow full access to Google robot
   │Disallow:                   │
*1→│                            │
*2→│Sitemap: sitemap01.xml      ← e.g: URL category sitemap
   │Sitemap: sitemap02.xml      ← e.g: URL subcategory sitemap
   │Sitemap: sitemap.cgi        ← Dinamically generated XML sitemap
   └────────────────────────────┘

*1: white-lines used to separate different registries.
   (one for "*", another one for BadBot, and a 3rd one
    for Google in our example)

*2: Different search engines "control pannels" allows to push
    the sitemap directly (vs waiting for random crawling)

• NOTE: difference between html <meta name=robots> and /robots.txt :
  • /robots.txt : ignore page, do not even read html headers.
    · /robots.txt file is controlled by web-server/site administrator.

  • <meta name="robots" content="noindex,follow"
    · ignore links inside this page.
    · Can be controlled by page-author, overriding
      defaults in robots.txt.

• External Resources:
  • A curated list of SEO (Search Engine Optimization) links.
   @[https://github.com/teles/awesome-seo]


  ########################
  # Schema.org:          #
  # Rich Structured Data #
  # for Search Engines   #
  ########################
 Ref: @[https://www.infoq.com/news/2021/02/seo-structured-data-rich-snippet/]
• Add semantic support to html.
• Used by  10+ million sites  to markup web pages and email messages.
• activity community maintaining and promoting schemas for structured data .
• While OpenAPI standard @[#openapi_summary] allows to   [comparative]
  design APIs (requests from client to servers) to  simplify
  implementation of client mobile/web applications,
  schema.org allows to simplify the translation, by search engines/indexers,
  of html-markup to structure-data , relationships and actions .
• Extensible vocabulary.
•  Google Search Gallery lists 30 rich snippet categories                [TODO]
  with their use cases and specific user interface
  (articles, books, how-to, recipes, products, job postings,
   events, ...):
  · Each category has a dedicated user interface designed
    to facilitate the search user’s next steps.
    e.g: A news article may be featured in "Top stories"

  <head>
    <title>...</title>
    ...
    <script type="application/ld+json">  ← Google's recommended
    {                                       format (vs microdata|rdf)
      "@context": "https://schema.org/",  @[#json-ld_summary]
      "@type": "Recipe",
      "name": "Party Coffee Cake",
      "author": {
        "@type": "Person",
        "name": "Mary Stone"
      },
      "datePublished": "2018-03-10",
      "description": "...",
      "prepTime": "PT20M"
    }
    </script>
    ...
  </head>

• SCHEMA.ORG TOOLS:
  • @[https://search.google.com/test/rich-results]
  • Google/Bing/Yandex/... Search Consoles:
    site-wide monitoring and testing for rich results.

[[}]]
[[{standards.data_management,01_PM.TODO]]
● JSON-LD #[json-ld_summary]
@[https://json-ld.org/]                                                   [TODO]
• JSON-based format used to serialize Linked Data primarily targeting
   Web environments in order to build interoperable Web services, and
   to store Linked Data in JSON-based storage engines.
• Provides smooth upgrade path from JSON to JSON-LD.
[[}]]



[[use_case.SEO}]]
────────────────────────────────────────────────────────────────────────────────

[[{$div]]
    ● Non-classified / Radar
[[{protocol.http/3,performance.http/3]]
● HTTP/3  #[http3_summary]
@[https://www.infoq.com/news/2020/01/http-3-status/]
• HTTP/2 introduced the concept of first-class streams embedded
  in the same TCP connection enabling multiplexing simultaneous
  request-response exchanges.
• HTTP/2 major flaw: when packet loss increases, performance
  degrades due to dependency on TCP packet retransmission
  (HOL blocking):
    When packet loss surpasses a given threshold it's slower than
    HTTP/1 multiple parallel TCP connections.
• QUIC (HTTP/3 or HTTP over UPD) has first-class streams. solving
  HTTP/2 issues.
[[}]]

[[{dev_lang.js,code.async,code.low_code,security,data_management,01_PM.TODO]]
● axios
@[https://www.npmjs.com/package/axios]
Promise based HTTP client for the browser and node.js
Features
• Make XMLHttpRequests from the browser and
•      http  requests  from node.js
• Supports the Promise API
• Intercept request and response
• Transform request and response data
  (See service workers @[#service_workers_summary]
   for advanced/complementary alternative)
• Cancel requests.
• Automatic transforms for JSON data.
• Client side support for protecting against XSRF                     [security]
--------------------------------------------
● https://hyperfetch.bettertyped.com/docs/Getting%20Started/Overview
  Hyper Fetch is a library for a very wide range of uses - it provides
  the logic necessary to perform requests, caching, queuing, offline
  support, presistence possibilities of the queued requests and cache.
  By offering the above solutions, we have the ambition to become one
  of the greatest fetching tools - this is certainly not our last word.
  Motivation
  The idea for Hyper Fetch came from our observation and leading many
  projects in the Reactjs environment. There are many great fetch
  libraries and api - like axios, fetch, swr, react-query but the logic
  that they provide is detached from each other - hooks from the
  fetchers.
[[}]]

[[{mobile,performance.cache,01_PM.TODO]]
● PouchDB
https://pouchdb.com/ (46KB gzipped)
 "...PouchDB is an open-source JavaScript database inspired by
   Apache CouchDB that is designed to run well within the browser.
   PouchDB was created to help web developers build applications that
   work as well offline as they do online.
   It enables applications to store data locally while offline, then
   synchronize it with CouchDB and compatible servers when the
   application is back online, keeping the user's data in sync no matter
   where they next login..."
   var db = new PouchDB('dbname');
   db.put({ _id: 'dave@gmail.com', name: 'David', age: 69 });
   db.changes().on('change', function() {
     console.log('Ch-Ch-Changes');
   });
   db.replicate.to('http://example.com/mydb');
[[}]]

[[{low_code,security.aaa,security.oauth,stack.nodejs,01_PM.todo]]
● PassportJS.org     @ma
@[http://www.passportjs.org/packages/]
Simple, unobtrusive authentication middleware for Node.js and Express.

passport.authenticate('twitter'); // 'facebook' 'google' 'linkedin' 'github'

• A comprehensive set of (500+) strategies support authentication using
   username/password, Facebook, Twitter, JWT, ...
[[}]]

[[{01_PM.TODO]]
● Pino JSON logger
@[https://github.com/pinojs/pino]
• Compatible with Fastify , Express , Hapi , Restify , Koa , Node core http , Nest

• code. example:
 const logParent = require('pino')()
 const logChild  = logParent.child({ childProp: 'property' })

 logParent.info('hello world!') // {"level":30,"time":15...,"msg":"hello ...","pid":XXX,"hostname":"Davids-MBP-3.fritz.box"}
 logChild .info('hello child!') // {"level":30,"time":15...,"msg":"hello ...","pid":XXX,"hostname":"Davids-MBP-3.fritz.box","childProp":"property"}
[[}]]

[[{use_case.monetization,use_case.seo,01_PM.backlog]]
● matomo.org
@[https://matomo.org/]
• Google Analytics that preserves customer's privacy.
[[}]]

[[$div}]]
